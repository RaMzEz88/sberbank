/*! For license information please see RetailChat.min.js.LICENSE.txt */
!function(e){function t(t){for(var n,o,i=t[0],a=t[1],s=0,u=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={RetailChat:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+""+({"vendors~Bot~Chat~Conversations~Greeting":"vendors~Bot~Chat~Conversations~Greeting",Greeting:"Greeting","vendors~Bot~Chat~Conversations":"vendors~Bot~Chat~Conversations","Bot~Chat~Conversations":"Bot~Chat~Conversations","Bot~Chat":"Bot~Chat",Bot:"Bot",Chat:"Chat",Conversations:"Conversations"}[e]||e)+"."+{"vendors~Bot~Chat~Conversations~Greeting":"0426d9f2a33a800df75c",Greeting:"419966dd7124614dd5e4","vendors~Bot~Chat~Conversations":"4f83dc73b7800117e970","Bot~Chat~Conversations":"a06abdfd9bd702383904","Bot~Chat":"1409fc045bb98ea061e6",Bot:"b348092cd76e90bcd214",Chat:"71f46ef1da3970150e1d",Conversations:"bc4668b6faed4e6329ab"}[e]+".js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/portalserver/static/widgets/%5BBBHOST%5D/RetailChat/",o.oe=function(e){throw e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=a;o(o.s="uf2L")}({"/ELA":function(e,t,n){var r=n("LboF"),o=n("W6wy");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},"/MKj":function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return Y}));var o=n("cDcd"),i=n.n(o),a=n("rf6O"),s=n.n(a),c=i.a.createContext(null),u=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;return n.state={storeState:r.getState(),store:r},n}r(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var n=t.getState();e._isMounted&&e.setState((function(e){return e.storeState===n?null:{storeState:n}}))}));var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||c;return i.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(o.Component);u.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any};var l=u;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var p=n("2mql"),h=n.n(p),g=n("QLaP"),m=n.n(g),v=n("TOwV");function b(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,p=n.renderCountProp,g=void 0===p?void 0:p,b=n.shouldHandleStateChanges,y=void 0===b||b,_=n.storeKey,w=void 0===_?"store":_,S=n.withRef,x=void 0!==S&&S,E=n.forwardRef,O=void 0!==E&&E,k=n.context,M=void 0===k?c:k,C=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);m()(void 0===g,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),m()(!x,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var T="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";m()("store"===w,"storeKey has been removed and does not do anything. "+T);var A=M;return function(t){var n=t.displayName||t.name||"Component",a=s(n),c=f({},C,{getDisplayName:s,methodName:l,renderCountProp:g,shouldHandleStateChanges:y,storeKey:w,displayName:a,wrappedComponentName:n,WrappedComponent:t}),u=C.pure,d=o.Component;u&&(d=o.PureComponent);var p=function(n){function o(t){var r,o,a,s,c,l,d,p,h,g,v;return r=n.call(this,t)||this,m()(O?!t.wrapperProps[w]:!t[w],"Passing redux store in props has been removed and does not do anything. "+T),r.selectDerivedProps=function(t,n,r,i){if(u&&o===n&&a===t)return s;r===c&&l===i||(c=r,l=i,d=e(r.dispatch,i)),o=n,a=t;var f=d(t,n);return s=f},r.selectChildElement=function(e,t,n){return t===p&&n===h&&v===e||(p=t,h=n,v=e,g=i.a.createElement(e,f({},t,{ref:n}))),g},r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r(o,n);var s=o.prototype;return s.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},s.renderWrappedComponent=function(e){m()(e,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var n,r=e.storeState,o=e.store,i=this.props;O&&(i=this.props.wrapperProps,n=this.props.forwardedRef);var s=this.selectDerivedProps(r,i,o,c);return this.selectChildElement(t,s,n)},s.render=function(){var e=this.props.context&&this.props.context.Consumer&&Object(v.isContextConsumer)(i.a.createElement(this.props.context.Consumer,null))?this.props.context:A;return i.a.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},o}(d);if(p.WrappedComponent=t,p.displayName=a,O){var b=i.a.forwardRef((function(e,t){return i.a.createElement(p,{wrapperProps:e,forwardedRef:t})}));return b.displayName=a,b.WrappedComponent=t,h()(b,t)}return h()(p,t)}}var y=Object.prototype.hasOwnProperty;function _(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function w(e,t){if(_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!y.call(t,n[o])||!_(e[n[o]],t[n[o]]))return!1;return!0}var S=n("ANjH");function x(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function E(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function O(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=E(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=E(o),o=r(t,n)),o},r}}var k=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:x((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?x((function(t){return Object(S.b)(e,t)})):void 0}];var M=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:x((function(){return{}}))}];function C(e,t,n){return f({},n,e,t)}var T=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return C}}];function A(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function N(e,t,n,r,o){var i,a,s,c,u,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h,g,m=!f(p,a),v=!l(o,i);return i=o,a=p,m&&v?(s=e(i,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):v?(h=e(i,a),g=!d(h,s),s=h,g&&(u=n(s,c,a)),u):u}return function(o,l){return p?h(o,l):(s=e(i=o,a=l),c=t(r,a),u=n(s,c,a),p=!0,u)}}function P(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),c=o(e,i);return(i.pure?N:A)(a,s,c,e,i)}function R(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function I(e,t){return e===t}var j,L,D,B,F,H,G,U,z,W,q,$,Y=(D=(L=void 0===j?{}:j).connectHOC,B=void 0===D?b:D,F=L.mapStateToPropsFactories,H=void 0===F?M:F,G=L.mapDispatchToPropsFactories,U=void 0===G?k:G,z=L.mergePropsFactories,W=void 0===z?T:z,q=L.selectorFactory,$=void 0===q?P:q,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,c=void 0===s?I:s,u=o.areOwnPropsEqual,l=void 0===u?w:u,p=o.areStatePropsEqual,h=void 0===p?w:p,g=o.areMergedPropsEqual,m=void 0===g?w:g,v=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=R(e,H,"mapStateToProps"),y=R(t,U,"mapDispatchToProps"),_=R(n,W,"mergeProps");return B($,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:b,initMapDispatchToProps:y,initMergeProps:_,pure:a,areStatesEqual:c,areOwnPropsEqual:l,areStatePropsEqual:h,areMergedPropsEqual:m},v))})},"1mXj":function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=void 0===e?"undefined":x(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,d,p){p=p||[];var h=(f=f||[]).slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(h,d))return;if("object"===(void 0===r?"undefined":x(r))){if(r.prefilter&&r.prefilter(h,d))return;if(r.normalize){var g=r.normalize(h,d,e,t);g&&(e=g[0],t=g[1])}}}h.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var m=void 0===e?"undefined":x(e),v=void 0===t?"undefined":x(t),b="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(d),y="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(d);if(!b&&y)n(new i(h,t));else if(!y&&b)n(new a(h,e));else if(u(e)!==u(t))n(new o(h,e,t));else if("date"===u(e)&&e-t!=0)n(new o(h,e,t));else if("object"===m&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&n(new o(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new s(h,_,new a(void 0,e[_]))):l(e[_],t[_],n,r,h,_,p);for(;_<t.length;)n(new s(h,_,new i(void 0,t[_++])))}else{var w=Object.keys(e),S=Object.keys(t);w.forEach((function(o,i){var a=S.indexOf(o);a>=0?(l(e[o],t[o],n,r,h,o,p),S=c(S,a)):l(e[o],void 0,n,r,h,o,p)})),S.forEach((function(e){l(void 0,t[e],n,r,h,e,p)}))}p.length=p.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new o(h,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=c(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(e){return"color: "+k[e].color+"; font-weight: bold"}function h(e,t,n,r){var o=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+k[t].text,p(t)].concat(E(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function g(e,t,n,r){switch(void 0===e?"undefined":x(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,E(n)):e[r];case"function":return e(t);default:return e}}function m(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(t):o,a=t.collapsed,s=t.colors,c=t.level,u=t.diff,l=void 0===t.titleFormatter;e.forEach((function(o,f){var d=o.started,p=o.startedTime,m=o.action,v=o.prevState,b=o.error,y=o.took,_=o.nextState,S=e[f+1];S&&(_=S.prevState,y=S.started-d);var x=r(m),E="function"==typeof a?a((function(){return _}),m,o):a,O=w(p),k=s.title?"color: "+s.title(x)+";":"",M=["color: gray; font-weight: lighter;"];M.push(k),t.timestamp&&M.push("color: gray; font-weight: lighter;"),t.duration&&M.push("color: gray; font-weight: lighter;");var C=i(x,O,y);try{E?s.title&&l?n.groupCollapsed.apply(n,["%c "+C].concat(M)):n.groupCollapsed(C):s.title&&l?n.group.apply(n,["%c "+C].concat(M)):n.group(C)}catch(e){n.log(C)}var T=g(c,x,[v],"prevState"),A=g(c,x,[x],"action"),N=g(c,x,[b,v],"error"),P=g(c,x,[_],"nextState");if(T)if(s.prevState){var R="color: "+s.prevState(v)+"; font-weight: bold";n[T]("%c prev state",R,v)}else n[T]("prev state",v);if(A)if(s.action){var I="color: "+s.action(x)+"; font-weight: bold";n[A]("%c action    ",I,x)}else n[A]("action    ",x);if(b&&N)if(s.error){var j="color: "+s.error(b,v)+"; font-weight: bold;";n[N]("%c error     ",j,b)}else n[N]("error     ",b);if(P)if(s.nextState){var L="color: "+s.nextState(_)+"; font-weight: bold";n[P]("%c next state",L,_)}else n[P]("next state",_);u&&h(v,_,n,E);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},M,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(u){if("function"==typeof i&&!i(n,u))return e(u);var l={};c.push(l),l.started=S.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=u;var f=void 0;if(a)try{f=e(u)}catch(e){l.error=o(e)}else f=e(u);l.took=S.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof s?s(n,u):t.diff;if(m(c,Object.assign({},t,{diff:d})),c.length=0,l.error)throw l.error;return f}}}}var b,y,_=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},w=function(e){return _(e.getHours(),2)+":"+_(e.getMinutes(),2)+":"+_(e.getSeconds(),2)+"."+_(e.getMilliseconds(),3)},S="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=[];b="object"===(void 0===e?"undefined":x(e))&&e?e:"undefined"!=typeof window?window:{},(y=b.DeepDiff)&&O.push((function(){void 0!==y&&b.DeepDiff===f&&(b.DeepDiff=y,y=void 0)})),n(o,r),n(i,r),n(a,r),n(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))},enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=c(t,n)}return t}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==y},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach((function(e){e()})),O=null),f},enumerable:!0}});var k={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},M={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?v()({dispatch:t,getState:n}):void 0};t.defaults=M,t.createLogger=v,t.logger=C,t.default=C,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n("yLpj"))},"2mql":function(e,t,n){"use strict";var r=n("TOwV"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=c(t),g=c(n),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||r&&r[v]||g&&g[v]||s&&s[v])){var b=d(n,v);try{u(t,v,b)}catch(e){}}}}return t}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},ANjH:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return s}));var r=n("bCCX"),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=f.indexOf(e);f.splice(n,1),l=null}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=c(u,e)}finally{d=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,m({type:i.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return m({type:i.INIT}),(o={dispatch:m,subscribe:g,getState:h,replaceReducer:v})[r.a]=b,o}function c(e,t){return function(){return t(e.apply(this,arguments))}}function u(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=c(o,t))}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return d({},n,{dispatch:r=p.apply(void 0,i)(n.dispatch)})}}}},DlQD:function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n {0,3}(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||w.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=d(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=d(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=d(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=d(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=d(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=d(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=v({},n),n.gfm=v({},n.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=d(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=v({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=v({},n.normal,{html:d("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,o,i,a,s,c,u,l,f,d,p,h,g,m,v,_;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){var w=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),w&&"paragraph"===w.type?w.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:y(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(c={type:"table",header:b(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(e=e.substring(i[0].length),p=0;p<c.align.length;p++)/^ *-+: *$/.test(c.align[p])?c.align[p]="right":/^ *:-+: *$/.test(c.align[p])?c.align[p]="center":/^ *:-+ *$/.test(c.align[p])?c.align[p]="left":c.align[p]=null;for(p=0;p<c.cells.length;p++)c.cells[p]=b(c.cells[p],c.header.length);this.tokens.push(c)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),u={type:"list_start",ordered:m=(a=i[2]).length>1,start:m?+a:"",loose:!1},this.tokens.push(u),l=[],r=!1,g=(i=i[0].match(this.rules.item)).length,p=0;p<g;p++)d=(c=i[p]).length,~(c=c.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+d+"}","gm"),"")),p!==g-1&&(s=n.bullet.exec(i[p+1])[0],(a.length>1?1===s.length:s.length>1||this.options.smartLists&&s!==a)&&(e=i.slice(p+1).join("\n")+e,p=g-1)),o=r||/\n\n(?!\s*$)/.test(c),p!==g-1&&(r="\n"===c.charAt(c.length-1),o||(o=r)),o&&(u.loose=!0),_=void 0,(v=/^\[[ xX]\] /.test(c))&&(_=" "!==c[1],c=c.replace(/^\[[ xX]\] +/,"")),f={type:"list_item_start",task:v,checked:_,loose:o},l.push(f),this.tokens.push(f),this.token(c,!1),this.tokens.push({type:"list_item_end"});if(u.loose)for(g=l.length,p=0;p<g;p++)l[p].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),h=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[h]||(this.tokens.links[h]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(c={type:"table",header:b(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(e=e.substring(i[0].length),p=0;p<c.align.length;p++)/^ *-+: *$/.test(c.align[p])?c.align[p]="right":/^ *:-+: *$/.test(c.align[p])?c.align[p]="center":/^ *:-+ *$/.test(c.align[p])?c.align[p]="left":c.align[p]=null;for(p=0;p<c.cells.length;p++)c.cells[p]=b(c.cells[p].replace(/^ *\| *| *\| *$/g,""),c.header.length);this.tokens.push(c)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function i(e,t){if(this.options=t||w.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function a(e){this.options=e||w.defaults}function s(){}function c(e){this.tokens=[],this.token=null,this.options=e||w.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new u}function u(){this.seen={}}function l(e,t){if(t){if(l.escapeTest.test(e))return e.replace(l.escapeReplace,(function(e){return l.replacements[e]}))}else if(l.escapeTestNoEncode.test(e))return e.replace(l.escapeReplaceNoEncode,(function(e){return l.replacements[e]}));return e}function f(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function d(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t,n){if(e){try{var r=decodeURIComponent(f(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){h[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?h[" "+e]=e+"/":h[" "+e]=y(e,"/",!0));return e=h[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}o._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",o.em=d(o.em).replace(/punctuation/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=d(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=d(o.tag).replace("comment",n._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,o._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=d(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=d(o.reflink).replace("label",o._label).getRegex(),o.normal=v({},o),o.pedantic=v({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=v({},o.normal,{escape:d(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=d(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=v({},o.gfm,{br:d(o.br).replace("{2,}","*").getRegex(),text:d(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),i.rules=o,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,r,o,a,s,c="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),c+=l(a[1]);else if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),e=e.substring(a[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):l(a[0]):a[0];else if(a=this.rules.link.exec(e)){var u=_(a[2],"()");if(u>-1){var f=a[0].length-(a[2].length-u)-(a[3]||"").length;a[2]=a[2].substring(0,u),a[0]=a[0].substring(0,f).trim(),a[3]=""}e=e.substring(a[0].length),this.inLink=!0,r=a[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],o=t[3]):o="":o=a[3]?a[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(a,{href:i.escapes(r),title:i.escapes(o)}),this.inLink=!1}else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){c+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,c+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),c+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),c+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),c+=this.renderer.codespan(l(a[2].trim(),!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),c+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),c+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),r="@"===a[2]?"mailto:"+(n=l(this.mangle(a[1]))):n=l(a[1]),c+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.inRawBlock?c+=this.renderer.text(a[0]):c+=this.renderer.text(l(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===a[2])r="mailto:"+(n=l(a[0]));else{do{s=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(s!==a[0]);n=l(a[0]),r="www."===a[1]?"http://"+n:n}e=e.substring(a[0].length),c+=this.renderer.link(r,null,n)}return c},i.escapes=function(e){return e?e.replace(i.rules._escapes,"$1"):e},i.prototype.outputLink=function(e,t){var n=t.href,r=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,l(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},a.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return r?'<pre><code class="'+this.options.langPrefix+l(r,!0)+'">'+(n?e:l(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:l(e,!0))+"</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+l(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},a.prototype.image=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,n){return""+n},s.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,v({},this.options,{renderer:new s})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop(),this.token},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,f(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a,s);case"list_item_start":i="";var c=this.token.loose,u=this.token.checked,l=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(u));"list_item_end"!==this.next().type;)i+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(i,l,u);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d)}},u.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var h={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function v(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function b(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function y(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var o=e.charAt(e.length-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function _(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function w(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null);var o,i,a=(t=v({},w.defaults,t||{})).highlight,s=0;try{o=r.lex(e,t)}catch(e){return n(e)}i=o.length;var u=function(e){if(e)return t.highlight=a,n(e);var r;try{r=c.parse(o,t)}catch(t){e=t}return t.highlight=a,e?n(e):n(null,r)};if(!a||a.length<3)return u();if(delete t.highlight,!i)return u();for(;s<o.length;s++)!function(e){"code"!==e.type?--i||u():a(e.text,e.lang,(function(t,n){return t?u(t):null==n||n===e.text?--i||u():(e.text=n,e.escaped=!0,void(--i||u()))}))}(o[s])}else try{return t&&(t=v({},w.defaults,t)),c.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||w.defaults).silent)return"<p>An error occurred:</p><pre>"+l(e.message+"",!0)+"</pre>";throw e}}m.exec=m,w.options=w.setOptions=function(e){return v(w.defaults,e),w},w.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},w.defaults=w.getDefaults(),w.Parser=c,w.parser=c.parse,w.Renderer=a,w.TextRenderer=s,w.Lexer=r,w.lexer=r.lex,w.InlineLexer=i,w.inlineLexer=i.output,w.Slugger=u,w.parse=w,e.exports=w}(this||"undefined"!=typeof window&&window)}).call(this,n("yLpj"))},HeW1:function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},"J/DB":function(e,t,n){"use strict";n.d(t,"a",(function(){return Bt}));var r=n("cDcd"),o=n.n(r),i=n("faye"),a=n.n(i),s=n("/MKj");function c(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var u=c();u.withExtraArgument=c;var l=u,f=n("ANjH");n("1mXj");function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h,g=n("Ms6E"),m=n("dT2Z"),v=n("DlQD"),b=n.n(v),y="",_=new b.a.Renderer;function w(e){return b()(e,{renderer:_})}function S(e,t,n){if(e.conversation_id!==t)return null;if(32===e.type)return g.sendYaMetrika({"Клик по ярлыку":{"Системное сообщение":"Получено"}}),{id:e.id,text:e.text,time:"",owner:"system",owner_id:"system",style:"",status:"",client_message_id:e.client_message_id};y="";var r=w(e.text);if(e.author&&"NOT_AUTHORIZED_USER"===e.author.type)return{id:e.id,text:r,time:new Date(1e3*e.created_at),owner:"client",owner_id:"client",style:"",status:e.message_status,client_message_id:e.client_message_id};var o=n.Chat?n.Chat.dictionary.botName:"Помощник от Сбербанка";return e.author&&"OPERATOR"===e.author.type?g.sendYaMetrika({"Клик по ярлыку":{"Сообщение от оператора":"Получено"}}):g.sendYaMetrika({"Клик по ярлыку":{"Сообщение от бота":"Получено"}}),{id:e.id,text:h(r,e.text_render_type),time:new Date(1e3*e.created_at),owner:"operator",owner_id:e.author.id,name:e.author&&"OPERATOR"===e.author.type?e.author.name:o,logo_url:e.author?e.author.logo_url:null,style:"",status:e.message_status,client_message_id:e.client_message_id,suggestions:e.suggestions,animation:y}}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.name?t.name:"Помощник от Сбербанка";if(!e&&!Object.entries(e).length)return null;switch(y="",e.type){case"video":var i=t.videoSrc?t.videoSrc:"",a=e.data&&e.data.file?"".concat(e.data.file,"_").concat(t.videoQuality,".mp4"):"",s=e.data&&e.data.file?"".concat(e.data.file,".txt"):"";return g.sendYaMetrika({ChatBot:{"Video node":e.uid}}),{id:e.id,uid:e.uid,text:w(e.data.text),type:"video",videoLink:i+a,videoName:a,trackLink:i+s,time:new Date,owner:"operator",owner_id:null,name:t.videoBotName?t.videoBotName:o,logo_url:t.iconImgUrl,logo_image:t.videoImgUrl,style:"",suggestions:e.suggestions};case"text":case"start":g.sendYaMetrika({ChatBot:{"Text node":e.uid}});var c=w(e.data);return{id:e.id,uid:e.uid,text:c,time:new Date,owner:"operator",owner_id:null,name:o,logo_url:t.iconImgUrl,style:"",suggestions:e.suggestions,animation:y};case"link":return r||window.open(e.data),g.sendYaMetrika({ChatBot:{"Link node":e.uid}}),{id:e.id,uid:e.uid,text:w(e.data),time:new Date,owner:"operator",owner_id:null,name:o,logo_url:t.iconImgUrl,style:"",suggestions:e.suggestions};case"anchor":var u;return g.sendYaMetrika({ChatBot:{"Anchor node":e.uid}}),e.data.file?{id:e.id,uid:e.uid,text:"Загружается новый файл",time:new Date,owner:"operator",owner_id:null,name:o,logo_url:t.iconImgUrl,style:"",suggestions:e.suggestions}:!n[u="start"===e.data.target||"operator"===e.data.target||"messenger"===e.data.target?g.getFirstMessage(n):e.data.target]&&t.testMode?{id:e.id,uid:e.uid,text:"Блок Anchor ссылается на несуществующий узел",time:"",owner:"error",owner_id:"error",style:"",status:""}:x(n[u],t,n);case"widget":if(g.sendYaMetrika({ChatBot:{"Widget node":e.uid}}),t.testMode){if(!e.data.endpoint)return{id:e.id,uid:e.uid,text:"У блока Widget не указан параметр endpoint",time:"",owner:"error",owner_id:"error",style:"",status:""};var l=g.getBotTypes().widgets[e.data.endpoint];if(!l)return{id:e.id,uid:e.uid,text:"Блок Widget с типом ".concat(e.data.endpoint," не поддерживается"),time:"",owner:"error",owner_id:"error",style:"",status:""}}return{id:e.id,uid:e.uid,file:e.data.file?e.data.file:"",params:e.data.params?e.data.params:null,widget:e.data.endpoint,type:"widget",time:null,owner:"operator",owner_id:null,name:o,logo_url:t.iconImgUrl,style:"",suggestions:e.suggestions};case"error":return e;case"":default:return g.sendYaMetrika({ChatBot:{"Undefined node":e.uid}}),t.testMode?{id:e.id,uid:e.uid,text:"Неизвестный тип блока",time:"",owner:"error",owner_id:"error",style:"",status:""}:{id:e.id,uid:e.uid,text:w(e.data),time:new Date,owner:"operator",owner_id:null,name:o,logo_url:t.iconImgUrl,style:"",suggestions:e.suggestions}}}function E(e,t){var n=t?t.botName:"Помощник от Сбербанка";return{id:0,text:h(w(e.text),e.format),time:null,owner:"operator",owner_id:null,name:n,logo_url:null,style:"first_message",suggestions:e.suggestions}}function O(e){return{id:"",text:w(e.text),time:new Date,owner:"client",owner_id:"client",style:"",status:"",client_message_id:e.client_message_id}}function k(e){return{id:e.id,text:w(e.text),time:new Date,owner:"client",owner_id:"client",style:"",status:"READ"}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_.link=function(e,t,n){var r=e.match(/(sbchat|SBCHAT):\/\/rating\/csi/g),o=e.match(/\.json/g),i=!e.match(/:\/\//),a=n;if(r)return g.sendYaMetrika({"Клик по ярлыку":{CSI:"Пришел запрос оценки"}}),'<a class="chat-retail-csi__link" id="js_showCSI" href="'.concat(r[0],'" title="Оценить чат" >').concat(n,"</a>");if(o)return y=e,'<div class="chat-retail-lottie" data-link="'.concat(e,'" />');i&&(e=window.location.origin+e);var s=e.match(window.location.host)?"_self":"_blank";return'<a href="'.concat(e,'" title="').concat(a,'" target="').concat(s,'">').concat(n,"</a>")},_.codespan=function(e){var t=e.split("\n").map((function(e,t){return"<p key=".concat(t,">").concat(e,"</p>")}));return'<div class="chat-retail-reply">'.concat(t.join(""),"</div>")},h=function(e,t){if("PLAIN_TEXT"===t){var n=e.match(/<a><a/g);n&&n.forEach((function(t){var n=t.replace(/<a><a/,"<a");e=e.replace(t,n)}));var r=e.match(/<\/a><\/a>/g);r&&r.forEach((function(t){var n=t.replace(/<\/a><\/a>/,"</a>");e=e.replace(t,n)}));var o=e.match(/<a.+?<\/a>/g);o&&o.forEach((function(t){var n=t.match(/href="\S+?"/)?t.match(/href="\S+?"/)[0]:null,r=t.match(/>.+?<\/a/)?t.match(/>.+?<\/a/)[0]:null;if(r){var o=r.substring(1,r.indexOf("</a"));if(o.length>30){var i;i=n&&n.match("pdf")?"".concat(o.substring(0,30),"...pdf"):n&&n.match("html")?"".concat(o.substring(0,30),"...html"):"".concat(o.substring(0,30),"...");var a=r.replace(o,i),s=t.replace(r,a);e=e.replace(t,s)}}}))}return e};var A={device:{model:"",domain:"sberbank.ru",platform:"",uid:"",application_type:"MESSENGER_WEB",version:""},context:{entry_point:"",entry_title:"",location_addr:"",timestamp:null,timezone:null},user:{},dialog:{},textarea:{value:"",isDisabled:!0},Chat:{isConnect:!1,isUnauthorized:!1,formOnLoad:!1,historyNext:null,messages:[],replyMessage:{title:"",message:""},unreadMessages:0,suggestions:[],suggestionsIsShow:!1,suggestionsIsHidden:!1,csiFormIsShow:!1,error:{}},Bot:{formOnLoad:!0,messages:[],history:[],suggestions:[],suggestionsIsShow:!1,suggestionsIsHidden:!1,scenario:{},isLoad:!1,error:{},video:{onMute:!0,withHello:!0,startTime:0}},search:{isShow:!1,result:{},count:0,sequence:[],next:null,prev:null},config:{},settingsIsLoad:!1,activeComponent:"Icon",additionalForm:{isOpen:!1,type:""},greeting:{isShow:!1,text:"",suggestions:[],timeout:5e3},disabled:!1,onAnimate:!0};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONFIG":return P(e,t);case"CHANGE_CONFIG":return R(e,t);case"SET_DOMAIN":return I(e,t);case"SET_CONVERSATIONS":return ye(e,t);case"RESET_STATE":return j(e);case"SET_DEVICE":return L(e,t);case"SET_FIRST_MESSAGE":return D(e,t);case"VIEW_CHANGE":return B(e,t);case"INIT_SUCCESS":return F(e,t);case"FAILURE":return H(e,t);case"FORM_LOAD":return G(e,t);case"CHANGE_MESSAGE_TEXT":return U(e,t);case"RECEIVE_CONVERSATIONS":return z(e,t);case"RECEIVE_MESSAGE":return W(e,t);case"SEND_TEXT_MESSAGE":return q(e,t);case"UPDATE_TEXT_MESSAGE":return $(e,t);case"GET_HISTORY":return Y(e,t);case"SHOW_ADDITIONAL_FORM":return V(e,t);case"CLOSE_ADDITIONAL_FORM":return Z(e);case"SHOW_SUGGESTIONS":return X(e,t);case"SET_SUGGESTIONS":return Q(e,t);case"HIDE_SUGGESTIONS":return K(e,t);case"LOAD_SETTINGS":return J(e,t);case"RESET_UNREAD_MESSAGES":return ee(e);case"CLOSE_SOCKET":return te(e);case"OPEN_SOCKET":return ne(e);case"UPDATE_MESSAGE_STATUS":return re(e,t);case"UNAUTHORIZED":return oe(e);case"TEXTAREA_CHANGE":return ie(e,t);case"RESET_ERROR":return ae(e);case"HIDE_FIXED_CSI":return se(e);case"CHANGE_ANIMATION":return ce(e,t);case"SEND_DEVICE_CONTEXT":return ue(e,t);case"SET_REPLY_MESSAGE":return le(e,t);case"SHOW_GREETING":return fe(e,t);case"CLOSE_GREETING":return de(e);case"CHANGE_FIRST_MESSAGE":return pe(e,t);case"SHOW_SEARCH":return he(e);case"HIDE_SEARCH":return ge(e);case"SET_SEARCH_RESULT":return me(e,t);case"SET_NEXT_SEARCH_RESULT":return ve(e,t);case"SET_PREV_SEARCH_RESULT":return be(e,t);case"SET_BOT_SCENARIO":return _e(e,t);case"SET_BOT_MESSAGE":return we(e,t);case"SET_CLIENT_MESSAGE":return Se(e,t);case"SET_VIDEO_VOLUME":return xe(e,t);case"SET_VIDEO_HELLO":return Ee(e,t);case"SET_VIDEO_START_TIME":return Oe(e,t);case"SET_BOT_HISTORY":return ke(e,t);case"SET_BOT_ERROR":return Me(e,t);default:return e}}function P(e,t){var n=t.config;return C(C({},e),{},{config:g.convertTypes(n)})}function R(e,t){var n=t.config;return C(C({},e),{},{config:g.mergeDeep(e.config,n)})}function I(e,t){var n=t.domain;return C(C({},e),{},{config:C(C({},e.config),{},{Chat:C(C({},e.config.Chat),{},{domain:n})})})}function j(e){var t=e.config,n=e.device;return C(C({},A),{},{activeComponent:e.activeComponent,config:t,device:n})}function L(e,t){var n=t.userDevice;return C(C({},e),{},{device:C(C({},e.device),n)})}function D(e,t){var n=E(t.message,e.config.Chat.dictionary),r=e.Chat.messages.filter((function(e){return 0!==e.id}));return C(C({},e),{},{Chat:C(C({},e.Chat),{},{formOnLoad:!1,messages:n?r.concat(n):r})})}function B(e,t){var n=t.view;return C(C({},e),{},{activeComponent:n})}function F(e,t){return C(C(C({},e),t),{},{Chat:C(C({},e.Chat),{},{isConnect:!0})})}function H(e,t){var n=t.error;return C(C({},e),{},{textarea:{isDisabled:!0},Chat:C(C({},e.Chat),{},{isConnect:!1,formOnLoad:!1,error:n})})}function G(e,t){var n=t.formOnLoad;return C(C({},e),{},{Chat:C(C({},e.Chat),{},{formOnLoad:n})})}function U(e,t){var n=t.value;return C(C({},e),{},{textarea:C(C({},e.textarea),{},{value:n})})}function z(e,t){var n=t.dialog;return C(C({},e),{},{dialog:n})}function W(e,t){var n=S(t.message,e.dialog.id,e.config),r=e.Chat,o=r.unreadMessages;"client"!=n.owner&&"Icon"==e.activeComponent&&o++;var i=r.messages,a=n?g.uniqBy(i.concat(n),"id"):i;return C(C({},e),{},{Chat:C(C({},e.Chat),{},{messages:a,unreadMessages:o,formOnLoad:!1})})}function q(e,t){var n=t.message,r=e.Chat.messages;return C(C({},e),{},{Chat:C(C({},e.Chat),{},{messages:r.concat(O(n))})})}function $(e,t){var n=t.message,r=e.Chat.messages.map((function(e){return e.client_message_id===n.client_message_id&&(e.status=n.message_status,e.id=n.id),e}));return C(C({},e),{},{Chat:C(C({},e.Chat),{},{messages:r})})}function Y(e,t){var n=t.data,r={},o=e.Chat,i=o.messages.map((function(e){return e.id})),a=n.messages.map((function(t){return S(t,e.dialog.id,e.config)})).filter((function(e){return!i.includes(e.id)}));return a.reverse(),null===n.next&&e.config.Chat.firstMessage&&e.config.Chat.firstMessage.text&&(r=E(e.config.Chat.firstMessage,e.config.Chat.dictionary),a=a.concat(r)),C(C({},e),{},{Chat:C(C({},e.Chat),{},{formOnLoad:!1,historyNext:n.next,messages:a.concat(o.messages).sort((function(e,t){return e.id-t.id}))})})}function V(e,t){var n=t.formName;return C(C({},e),{},{textarea:{isDisabled:!0},additionalForm:{isOpen:!0,type:n}})}function Z(e){return C(C({},e),{},{textarea:{isDisabled:!1},additionalForm:{isOpen:!1,type:""}})}function X(e,t){var n=t.suggestions,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{suggestions:n,suggestionsIsShow:!0,suggestionsIsHidden:!1})))}function Q(e,t){var n=t.suggestions,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{suggestions:n,suggestionsIsShow:!0,suggestionsIsHidden:!1})))}function K(e,t){var n=t.conversationName;return C(C({},e),{},T({},n,C(C({},e[n]),{},{suggestions:[],suggestionsIsShow:!1,suggestionsIsHidden:!0})))}function J(e,t){var n=t.settings,r=e.config,o=g.mergeDeep(r,n);if(r.setNewConversation){var i=r.widgetConversations.split(","),a=r.widgetStartForm;i&&i.length>0&&(o.conversations=i,o.startForm=a)}return C(C({},e),{},{config:o,settingsIsLoad:!0})}function ee(e){return C(C({},e),{},{Chat:C(C({},e.Chat),{},{unreadMessages:0})})}function te(e){return C(C({},e),{},{Chat:C(C({},e.Chat),{},{isConnect:!1})})}function ne(e){return C(C({},e),{},{Chat:C(C({},e.Chat),{},{isConnect:!0})})}function re(e,t){var n=t.data,r=["NEW","SENT","RECEIVED","READ"],o=e.Chat.messages;return C(C({},e),{},{Chat:C(C({},e.Chat),{},{messages:o.map((function(e){return r.indexOf(e.status)>=n.new_message_status_id||(e.status=r[n.new_message_status_id]),e}))})})}function oe(e){return C(C({},e),{},{Chat:C(C({},e.Chat),{},{isUnauthorized:!0})})}function ie(e,t){var n=t.isDisabled;return C(C({},e),{},{textarea:C(C({},e.textarea),{},{isDisabled:n})})}function ae(e){return C(C({},e),{},{additionalForm:{isOpen:!1,type:""},Chat:C(C({},e.Chat),{},{error:{}})})}function se(e){return C(C({},e),{},{config:C(C({},e.config),{},{CSI_alwaysShow:!1})})}function ce(e,t){var n=t.onAnimate;return C(C({},e),{},{onAnimate:n})}function ue(e,t){var n=t.context;return C(C({},e),{},{context:n})}function le(e,t){var n=t.replyMessage;return C(C({},e),{},{Chat:C(C({},e.Chat),{},{replyMessage:n})})}function fe(e,t){var n=t.greeting;return C(C({},e),{},{greeting:C(C({},n),{},{text:w(n.text)})})}function de(e){return C(C({},e),{},{greeting:{isShow:!1,text:"",suggestions:[],timeout:5e3}})}function pe(e,t){var n=t.firstMessage;return C(C({},e),{},{config:C(C({},e.config),{},{Chat:C(C({},e.config.Chat),{},{firstMessage:n})})})}function he(e){return C(C({},e),{},{search:{isShow:!0,result:[],sequence:[],next:null,prev:null}})}function ge(e){return C(C({},e),{},{search:{isShow:!1,result:[],sequence:[],next:null,prev:null}})}function me(e,t){var n=t.result,r=t.sequence;return C(C({},e),{},{search:C(C({},e.search),{},{result:n,sequence:r})})}function ve(e,t){var n=t.next;return C(C({},e),{},{search:C(C({},e.search),{},{next:n})})}function be(e,t){var n=t.prev;return C(C({},e),{},{search:C(C({},e.search),{},{prev:n})})}function ye(e,t){var n=t.config,r=n.conversations,o={},i={messenger:{isConnect:!1,isUnauthorized:!1,formOnLoad:!1,messages:[],replyMessage:{title:"",message:""},unreadMessages:0,suggestions:[],suggestionsIsShow:!1,suggestionsIsHidden:!1,csiFormIsShow:!1,error:{}},chatBotFlow:{formOnLoad:!0,messages:[],history:[],suggestions:[],suggestionsIsShow:!1,suggestionsIsHidden:!1,scenario:{},isLoad:!1,error:{},video:{onMute:!0,withHello:!0,startTime:0}}};return r&&r.length>0&&(o=r.reduce((function(e,t){if(n[t])return C(C({},e),{},T({},t,C({type:n[t].type,name:n[t].name},i[n[t].type])))}),{})),C(C({},e),{},{conversations:r},o)}function _e(e,t){var n=t.scenario,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{scenario:n,isLoad:!0,error:{}})))}function we(e,t){var n=t.message,r=t.conversationName,o=e[r].messages,i=e[r].history,a=e[r].scenario,s=x(n,e.config[r],a);return s.uid=n.id,s.id=o.length,C(C({},e),{},T({},r,C(C({},e[r]),{},{messages:s?o.concat(s):o,history:s?i.concat({id:s.uid}):i,formOnLoad:!1})))}function Se(e,t){var n=t.message,r=t.conversationName,o=e[r].messages,i=n;return i.uid=n.id,i.id=o.length,C(C({},e),{},T({},r,C(C({},e[r]),{},{messages:o.concat(k(n))})))}function xe(e,t){var n=t.value,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{video:C(C({},e[r].video),{},{onMute:n})})))}function Ee(e,t){var n=t.value,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{video:C(C({},e[r].video),{},{withHello:n})})))}function Oe(e,t){var n=t.value,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{video:C(C({},e[r].video),{},{startTime:n})})))}function ke(e,t){var n=t.history,r=t.conversationName,o=e[r].scenario,i=e.config[r],a=n.reduce((function(e,t){var n,r;if(e.length>0){var a=e[e.length-1],s=a&&a.suggestions.length>0?a.suggestions.find((function(e){return t.id===e.target})):null;s?(s.text&&(n=s.text),r=o[s.target]):a.suggestions.length>0?a.suggestions.forEach((function(e){"anchor"===o[e.target].type&&o[e.target].data.target===t.id&&(n=e.text,r=o[t.id])})):r=o[t.id]}else r=o[t.id];return n=n?k({text:n}):null,r=r?x(r,i,o,!0):{},n?e.concat(n,r):e.concat(r)}),[]),s=a[a.length-1],c=s&&s.suggestions?s.suggestions:[{text:"В начало",target:g.getFirstMessage(o)}];return C(C({},e),{},T({},r,C(C({},e[r]),{},{messages:a.map((function(e,t){return Object.assign(e,{id:t})})),suggestions:c,suggestionsIsShow:c&&c.length>0,formOnLoad:!1})))}function Me(e,t){var n=t.error,r=t.conversationName;return C(C({},e),{},T({},r,C(C({},e[r]),{},{formOnLoad:!1,error:n})))}var Ce=n("ssUE"),Te=n.n(Ce),Ae=n("rf6O"),Ne=n.n(Ae);n("Y3P8");function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=Object(r.lazy)((function(){return Promise.all([n.e("vendors~Bot~Chat~Conversations~Greeting"),n.e("Greeting")]).then(n.bind(null,"cYwh"))})),Fe=Te()("chat-retail-icons"),He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(s,e);var t,n,i,a=je(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).moveChatIcon=function(e){t.chatIcon&&(t.chatIcon.style.bottom=e?"".concat(e.clientHeight+20,"px"):"20px")},t.handleClick=function(){t.props.dispatch(m.p()),t.props.dispatch(m.a(t.props.config.formAfterClick)),t.props.greetingIsShow?g.sendYaMetrika({SberCareChat:{"Приглашение с контекстом":"Клик по ярлыку"}}):g.sendYaMetrika({"Клик по ярлыку":"Чат открыт"}),t.props.dispatch(m.f())},t.handleGreetingClick=function(){g.sendYaMetrika({SberCareChat:{"Приглашение с контекстом":"Клик по приглашению"}}),t.props.dispatch(m.p()),t.props.dispatch(m.a(t.props.config.formAfterClick)),t.props.dispatch(m.f())},t.handleCloseGreetingClick=function(){g.sendYaMetrika({SberCareChat:{"Приглашение с контекстом":"Клик по крестику приглашения"}}),t.props.dispatch(m.f()),g.sendYaMetrika({"Клик по ярлыку":"Чат открыт"})},t.timeout=null,t}return t=s,(n=[{key:"componentDidMount",value:function(){g.isMobileDevice()&&g.returnSiteZoom()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.greetingIsShow!==e.greetingIsShow&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.timeout=null,t.props.dispatch(m.f())}),this.props.greeting.timeout))}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.props.config.zIndex?{zIndex:this.props.config.zIndex}:{};return o.a.createElement("div",{className:Fe("container")(),ref:function(t){return e.chatIcon=t},style:t},o.a.createElement("div",{className:Fe.mix(this.props.className)(),onClick:this.handleClick},!!this.props.unreadMessages&&o.a.createElement("div",{className:Fe("count")()})),o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null)},this.props.greetingIsShow&&o.a.createElement(Be,{greeting:this.props.greeting,onClick:this.handleGreetingClick,onCloseClick:this.handleCloseGreetingClick})))}}])&&Re(t.prototype,n),i&&Re(t,i),s}(r.Component),Ge=Object(s.b)((function(e){return{icon:e.icon,config:e.config.formsOption.Icon,settingsIsLoad:e.settingsIsLoad,unreadMessages:e.Chat.unreadMessages,greeting:e.greeting,greetingIsShow:e.greeting.isShow}}))(He);n("NjGb"),n("/ELA");function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=Object(r.lazy)((function(){return Promise.all([n.e("vendors~Bot~Chat~Conversations~Greeting"),n.e("vendors~Bot~Chat~Conversations"),n.e("Bot~Chat~Conversations"),n.e("Bot~Chat"),n.e("Chat")]).then(n.bind(null,"ygyu"))})),Xe=Object(r.lazy)((function(){return Promise.all([n.e("vendors~Bot~Chat~Conversations~Greeting"),n.e("vendors~Bot~Chat~Conversations"),n.e("Bot~Chat~Conversations"),n.e("Bot~Chat"),n.e("Bot")]).then(n.bind(null,"o5ov"))})),Qe=Object(r.lazy)((function(){return Promise.all([n.e("vendors~Bot~Chat~Conversations~Greeting"),n.e("vendors~Bot~Chat~Conversations"),n.e("Bot~Chat~Conversations"),n.e("Conversations")]).then(n.bind(null,"AYxq"))})),Ke=Te()("chat-retail-theme"),Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(s,e);var t,n,i,a=$e(s);function s(){var e;ze(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).addButtonEventListener=function(){for(var t=document.querySelectorAll('[data-call="chat"]'),n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){var n=t.currentTarget;if(n){var r=n.getAttribute("data-title"),o=n.getAttribute("data-message");(r||o)&&(e.props.isConnected||e.props.dispatch(m.m()),"Chat"!==e.props.activeComponent&&e.props.dispatch(m.a("Chat")),e.props.dispatch(m.C({title:r,message:o})))}}))},e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=Bt.checkSession().session_id;this.addButtonEventListener(),g.isResetPage()&&Bt.removeSession(),e&&"Icon"===this.props.activeComponent&&this.props.dispatch(m.m())}},{key:"render",value:function(){var e,t=this.props.config.chatInContent?"chat-retail-mode__full":"chat-retail-mode__normal",n=this.props.config.theme?this.props.config.theme.name:"default",i=this.props.config.conversations.includes(this.props.activeComponent),a=this.props.config.chatInContent?o.a.createElement("div",null):o.a.createElement(Ge,null);switch(this.props.activeComponent){case"Icon":e=o.a.createElement(Ge,null);break;case"Conversations":e=o.a.createElement(Qe,null);break;default:if(i){var s=this.props.config[this.props.activeComponent];if(s&&s.type){if("messenger"===s.type){e=o.a.createElement(Ze,{conversationName:this.props.activeComponent});break}e=o.a.createElement(Xe,{conversationName:this.props.activeComponent});break}e=o.a.createElement("div",null);break}e=o.a.createElement("div",null)}return o.a.createElement("div",{className:Ke(n).mix([t])()},o.a.createElement(r.Suspense,{fallback:a},e))}}])&&We(t.prototype,n),i&&We(t,i),s}(r.Component);Je.propTypes={activeComponent:Ne.a.string},Je.defaultProps={activeComponent:""};var et=Object(s.b)((function(e){return{isConnected:e.Chat.isConnected,activeComponent:e.activeComponent,config:e.config}}))(Je),tt=n("fiWp"),nt=n.n(tt);function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var it=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};rt(this,e),this.config=t,this.socket=null,this.onOpen=null,this.onClose=null,this.onMessage=null,this.onError=null}var t,n,r;return t=e,(n=[{key:"connect",value:function(e){var t="".concat(g.WS_BASE_URL,"ws/prelogin/").concat(e);this.socket=new WebSocket(t),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}},{key:"disconnect",value:function(){this.socket.close()}},{key:"send",value:function(e){this.socket.send(e)}},{key:"setOnClose",value:function(e){this.onClose=e}},{key:"setOnMessage",value:function(e){this.onMessage=e}},{key:"setOnError",value:function(e){this.onError=e}}])&&ot(t.prototype,n),r&&ot(t,r),e}(),at="ack",st="send_text_message",ct="receive_text_message",ut="message_status_updated",lt="get_history",ft="unauthorized",dt="receive_conversations",pt="error_closed",ht="socket_closed",gt="socket_clear_closed",mt="receive_record_state",vt="send_device_context";function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transport=t,this.errorIsCaught=!1,this.handlers={},this.ackHandlers={},this.closeReason=null,this.errorHandler=null,this.userId=null,this.transport.setOnError((function(e){g.logError("error","WS",e.code,"Ошибка"),g.sendYaMetrika({"Клик по ярлыку":{"Новый диалог":"Ошибка соединения с ws"}});var t=n._createWsError("error");n._errorHandler(t)})),this.transport.setOnClose((function(e){"clear close"!==n.closeReason?"error disconnect"!==n.closeReason?n._executeHandlers(n.handlers.socket_closed,e):n._executeHandlers(n.handlers.error_closed,e):n._executeHandlers(n.handlers.socket_clear_closed,e)})),this.transport.setOnMessage((function(e){var t=JSON.parse(e.data);if(t.error){if(t.error.reason&&"incorrect input data"===t.error.reason)return;return"unauthorized"==t.method?(n._executeHandlers(n.handlers.unauthorized,e),void(n.closeReason="clear close")):(n.errorIsCaught=!0,void n.disconnect())}t.method===at?n._executeHandlers(n.ackHandlers[t.on_method],t):(n._executeHandlers(n.handlers[t.method],t),n._sendAck(t))}))}var t,n,r;return t=e,r=[{key:"uuid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}}],(n=[{key:"_createWsError",value:function(e){return{data:{error:{},isWsError:!0,wsErrorType:e}}}},{key:"_sendAck",value:function(e){var t={id:e.id,method:at,data:null,on_method:e.method,token:this.transport.token};this._directSendMessage(t)}},{key:"connect",value:function(e){this.transport.connect(e)}},{key:"disconnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.closeReason=e,this.transport.disconnect()}},{key:"_executeHandlers",value:function(e,t){null!=e&&e.forEach((function(e){e(t)}))}},{key:"_errorHandler",value:function(e){null!=this.errorHandler&&this.errorHandler(e.error)}},{key:"addEventHandler",value:function(e,t){this.handlers[e]&&(this.handlers[e]=null),this._addEventHandler(e,t,this.handlers)}},{key:"addAckEventHandler",value:function(e,t){this.ackHandlers[e]&&(this.ackHandlers[e]=null),this._addEventHandler(e,t,this.ackHandlers)}},{key:"_addEventHandler",value:function(e,t,n){null==n[e]?n[e]=[t]:n[e].push(t)}},{key:"sendTextMessage",value:function(e){return this._send(st,e)}},{key:"getHistory",value:function(e){return this._send(lt,e)}},{key:"sendDeviceContext",value:function(e){return this._send(vt,e)}},{key:"_send",value:function(e,t){var n;return(n=this._getMessageTemplate()).data=t,n.method=e,this._directSendMessage(n),n}},{key:"_directSendMessage",value:function(e){e.token=this.transport.token,this.isWebsocketConnected()&&this.transport.send(JSON.stringify(e))}},{key:"_getMessageTemplate",value:function(){return{method:null,token:this.transport.token,id:e.uuid(),data:{},timestamp:Date.now(),error:null,retry:0}}},{key:"isWebsocketConnected",value:function(){return null!=this.transport.socket&&1===this.transport.socket.readyState}}])&&bt(t.prototype,n),r&&bt(t,r),e}();function _t(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_t(i,r,o,a,s,"next",e)}function s(e){_t(i,r,o,a,s,"throw",e)}a(void 0)}))}}var St,xt=function(){try{return localStorage.getItem("retailChatSession")}catch(e){return""}},Et=function(){try{localStorage.removeItem("retailChatSession")}catch(e){}},Ot=function(){var e=wt(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.ajax({type:"POST",url:"".concat(g.REST_BASE_URL),data:{device:t},headers:n});case 3:return r=e.sent,o=r.session_id,i=o,localStorage.setItem("retailChatSession",i),g.logError("call","auth_prelogin","auth_prelogin","Поучение сессии"),e.abrupt("return",{session_id:o,isNewToken:!0});case 10:e.prev=10,e.t0=e.catch(0),g.logError("error","REST","auth_prelogin","Ошибка получения сессии"),g.sendYaMetrika({"Клик по ярлыку":{"Новый диалог":"Ошибка auth_prelogin"}});case 14:case"end":return e.stop()}var i}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),kt=function(){var e=wt(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=xt())){e.next=3;break}return e.abrupt("return",{session_id:r,isNewToken:!1});case 3:return e.abrupt("return",Ot(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(){var e=xt();return e?{session_id:e}:{session_id:null}},Ct=function(){var e=wt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(),e.abrupt("return",Ot(t,n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){At(i,r,o,a,s,"next",e)}function s(e){At(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bt=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(s,e);var t,n,r,o,i,a=It(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e);var n=new it;return t.apiMessenger=new yt(n),t.intervalId=null,t.timeoutId=null,t}return t=s,(n=[{key:"setParameters",value:function(e){this.reconnectMaxCount=e.reconnectMaxCount,this.reconnectCount=0,this.reconnectDuration=e.reconnectDuration,this.initTimeout=e.initTimeout?e.initTimeout:30,this.sessionHeaders=e.headerParams}},{key:"isWebsocketConnected",value:function(){return this.apiMessenger.isWebsocketConnected()}},{key:"connect",value:(i=Nt(regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(t,this.sessionHeaders);case 2:if(n=e.sent,r=n.session_id,o=n.isNewToken,r){e.next=7;break}return e.abrupt("return",null);case 7:return this.timeoutId=setTimeout((function(){i.timeoutId&&(i.clearTimeout(),i.removeSession(),i.apiMessenger.disconnect("error disconnect"))}),1e3*this.initTimeout),this.apiMessenger.addEventHandler(dt,(function(e){i.clearTimeout(),i.clearInterval(),i.emit("receive_conversations",e.data)})),this.apiMessenger.addAckEventHandler(lt,(function(e){i.clearInterval(),i.emit("get_history",e.data)})),this.apiMessenger.addEventHandler(ct,(function(e){i.emit("get_message",e.data)})),this.apiMessenger.addEventHandler(ht,(function(e){i.emit("socket_closed",e)})),this.apiMessenger.addEventHandler(gt,(function(e){i.emit("socket_clear_closed",e)})),this.apiMessenger.addEventHandler(pt,(function(e){i.emit("error_closed",e)})),this.apiMessenger.addAckEventHandler(st,(function(e){i.emit("send_text_message",e.data)})),this.apiMessenger.addEventHandler(ft,(function(e){i.clearInterval(),i.emit("unauthorized",e)})),this.apiMessenger.addEventHandler(ut,(function(e){i.emit("message_status_updated",e.data)})),this.apiMessenger.addEventHandler(mt,(function(e){i.emit("receive_record_state",e.data)})),this.apiMessenger.addAckEventHandler(vt,(function(e){i.emit("send_device_context",e.data)})),e.next=21,this.apiMessenger.connect(r);case 21:return e.abrupt("return",{sessionId:r,isNewToken:o});case 22:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"reconnect",value:(o=Nt(regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(t,this.sessionHeaders);case 2:if(n=e.sent,r=n.session_id,o=n.isNewToken,this.timeoutId=setTimeout((function(){i.timeoutId&&(i.clearTimeout(),i.removeSession(),i.apiMessenger.disconnect("error disconnect"))}),1e3*this.initTimeout),r){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,this.apiMessenger.connect(r);case 10:return e.abrupt("return",{sessionId:r,isNewToken:o});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"reconnectWithToken",value:function(){var e=this;return new Promise((function(t,n){var r=Mt().session_id;e.isWebsocketConnected()&&t({sessionId:r}),r||n({error:"token"}),e.intervalId=setInterval((function(){e.reconnectDuration+=e.reconnectDuration,e.reconnectCount++,e.reconnectCount>e.reconnectMaxCount?(e.clearInterval(),n({error:"interval"})):(e.apiMessenger.connect(r),t({sessionId:r}))}),1e3*e.reconnectDuration)}))}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,this.reconnectCount=0,this.reconnectDuration=10)}))},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}))},{key:"checkSession",value:function(){return Mt()}},{key:"removeSession",value:function(){Et()}},{key:"closeSocket",value:function(){Et(),this.apiMessenger.disconnect("clear close")}},{key:"getHistory",value:function(e){this.apiMessenger.getHistory(e)}},{key:"sendDeviceContext",value:function(e){var t=new Date,n={entry_point:window.location.href,entry_title:document.title||"",location_addr:e||"",timestamp:t.getTime(),timezone:-t.getTimezoneOffset()/60};return this.apiMessenger.sendDeviceContext(n),n}},{key:"sendMessage",value:function(e,t){var n=(new Date).getTime(),r={client_message_id:n,conversation_id:t,type:"0",retry:"0",text:e,user_id:""};return this.apiMessenger.sendTextMessage(r),{clientId:n}}}])&&Pt(t.prototype,n),r&&Pt(t,r),s}(nt.a)),Ft="chat-retail-block";function Ht(e,t){if("function"==typeof Event)return new Event(e,t?{bubbles:!0}:{});var n=document.createEvent("Event");return n.initEvent(e,t,!0),n}t.b=function(){window.sbt_newchat=window.sbt_newchat||{},window.sbt_newchat.init=function(e){if(window.sbt_newchat.config=e,e){var t=e;if(!g.setHosts(e))return void g.log("Api urls not found");if(g.setYaMetrika(e.yandexCounterId),!St){var n=function(e){var t=f.c;return t(f.a.apply(void 0,d(e)))(f.d)}([l],{});St=n(N)}var r=(u=e.mountContainerId,(p=document.getElementById(u))||((p=document.createElement("div")).id="sbt_chat_app_gen",p.setAttribute&&p.setAttribute("tabindex",0),document.body.appendChild(p)),p);e.chatInContent&&(t.headerIsEnabled=!1,t.size={},(r=document.querySelector("#retailChat-container"))?r.style.height="450px":((r=document.createElement("div")).id="retailChat-container",document.body.appendChild(r)));var i=g.setDomain(e);if(St.dispatch(m.w(t)),St.dispatch(m.z(i)),St.dispatch(m.x(e)),e.startForm&&St.dispatch(m.a(e.startForm)),g.isMobileDevice()){Ft+=" chat-retail-mobile",g.isAndroid()&&(Ft+=" chat-retail_android");var c=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(c,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))}!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RetailChat",t=arguments.length>1?arguments[1]:void 0,n=Ht("".concat(e,"Ready"),!0),r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=t.getState().activeComponent,o=t.getState().config.chatInContent;if("Icon"!==r||o)return{error:"Chat is open"};t.dispatch(m.H(e,n))},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,o=t.getState().activeComponent,i=t.getState().config.chatInContent;if("Icon"!==o||i)return{error:"Chat is open"};t.dispatch(m.H(e,r)),t.dispatch(m.c(e,n))},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,o=t.getState().activeComponent,i=t.getState().config.chatInContent;if("Icon"!==o||i)return{error:"Chat is open"};t.dispatch(m.H(e,r)),t.dispatch(m.C({title:n,message:e}))},a=function(){return t.getState().dialog&&t.getState().dialog.id?t.getState().dialog.id:"ConversationId not found"},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.dispatch(m.a("Chat")),t.dispatch(m.C({title:n,message:e}))},c=function(){var e=t.getState().Chat.suggestionsIsShow;t.dispatch(m.a("Chat")),e&&t.dispatch(m.l()),t.dispatch(m.G())},u=function(){t.dispatch(m.a("Chat"))},l=function(){t.dispatch(m.a("Icon"))},f=function(){return Bt.isWebsocketConnected()||t.getState().Chat.isConnect},d=function(){return"Icon"!==t.getState().activeComponent},p=function(){return"No"===t.getState().activeComponent},h=function(){t.dispatch(m.a("Icon"))},v=function(){t.dispatch(m.a("No"))},b=function(e){var n=t.getState().activeComponent;return e&&"object"===Dt(e)?(t.dispatch(m.b(e)),t.dispatch(m.a("No")),t.dispatch(m.a(n)),"Success: config is set"):"Error: Invalid object"},y=function(e){var n=t.getState().config;return e?n[e]:n},_=function(e){var n=t.getState().config;n.Chat.headerParams=e,t.dispatch(m.w(n))},w=function(){var e=t.getState().config;e.Chat.headerParams=[],t.dispatch(m.w(e))},S=function(){try{return localStorage.removeItem("retailChatSession"),t.dispatch(m.i()),"Success: chat is reset"}catch(e){return"Error: chat session not found"}},x=function(e){t.dispatch(m.a("No")),t.dispatch(m.u(e.data,"Bot"));var n=g.getFirstMessage(e.data);t.dispatch(m.t(n,"Bot")),t.dispatch(m.a("Bot"))},E=function(){return{block:["text","video","start","link","anchor","widget"],widgets:["/csi"]}},O=function(){return g.getApplicationVersion()};Object.defineProperty(window,e,{value:{showGreeting:r,showGreetingWithFirstMessage:o,showGreetingWithReply:i,getConversationId:a,setReplyMessage:s,showCSI:c,openChat:u,closeChat:l,isConnected:f,isOpened:d,isHidden:p,showChat:h,hideChat:v,setConfig:b,getConfig:y,setBotScenario:x,resetClientSession:S,getBotTypes:E,getApplicationVersion:O,setInitHeaders:_,deleteInitHeaders:w},writable:!0,enumerable:!0,configurable:!0}),document.dispatchEvent(n)}(e.applicationName,St),r.className+=Ft,a.a.render(o.a.createElement(s.a,{store:St},o.a.createElement(et,null)),r)}else g.log("invalid chat config");var u,p}}},JPst:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},LboF:function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=s(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:m(d,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,g=0;function m(e,t){var n,r,o;if(t.singleton){var i=g++;n=h||(h=u(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=u(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=c(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},M39V:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}])&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),o=c(n(93)),i=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(i>0){var d=Object.keys(o),p=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},Ms6E:function(e,t,n){"use strict";n.r(t),n.d(t,"REST_BASE_URL",(function(){return b})),n.d(t,"WS_BASE_URL",(function(){return y})),n.d(t,"ZABBIX_LOG",(function(){return _})),n.d(t,"YANDEX_LOG",(function(){return w})),n.d(t,"YANDEX_OBJECT_NAME",(function(){return S})),n.d(t,"alphabet",(function(){return x})),n.d(t,"SETTINGS_URL",(function(){return E})),n.d(t,"ajax",(function(){return O})),n.d(t,"setHosts",(function(){return k})),n.d(t,"setDomain",(function(){return M})),n.d(t,"setCookie",(function(){return C})),n.d(t,"getCookieVal",(function(){return T})),n.d(t,"log",(function(){return A})),n.d(t,"getMessageTimeString",(function(){return N})),n.d(t,"getFormattedDate",(function(){return P})),n.d(t,"getApplicationVersion",(function(){return R})),n.d(t,"logError",(function(){return I})),n.d(t,"loadSettings",(function(){return j})),n.d(t,"setCSI_points",(function(){return L})),n.d(t,"rawReq",(function(){return D})),n.d(t,"hslToRgb",(function(){return B})),n.d(t,"isAndroid",(function(){return F})),n.d(t,"isIOs",(function(){return H})),n.d(t,"isMobileDevice",(function(){return G})),n.d(t,"setYaMetrika",(function(){return U})),n.d(t,"sendYaMetrika",(function(){return z})),n.d(t,"setChatZoom",(function(){return W})),n.d(t,"returnSiteZoom",(function(){return q})),n.d(t,"isIE",(function(){return $})),n.d(t,"mergeDeep",(function(){return Y})),n.d(t,"getDraft",(function(){return V})),n.d(t,"saveDraft",(function(){return Z})),n.d(t,"deleteDraft",(function(){return X})),n.d(t,"stringMorph125",(function(){return Q})),n.d(t,"uniqBy",(function(){return K})),n.d(t,"getOffset",(function(){return J})),n.d(t,"getNext",(function(){return ee})),n.d(t,"getPrev",(function(){return te})),n.d(t,"getFirstMessage",(function(){return ne})),n.d(t,"getJson",(function(){return re})),n.d(t,"concatMessages",(function(){return oe})),n.d(t,"getBotHistory",(function(){return ie})),n.d(t,"saveBotHistory",(function(){return ae})),n.d(t,"deleteBotHistory",(function(){return se})),n.d(t,"validateBotHistory",(function(){return ce})),n.d(t,"sortBotSuggestions",(function(){return ue})),n.d(t,"isResetPage",(function(){return le})),n.d(t,"convertTypes",(function(){return fe})),n.d(t,"getUUID",(function(){return de})),n.d(t,"getBotTypes",(function(){return pe}));var r=n("xk4V"),o=n.n(r),i=n("Ms6E");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}var h,g,m,v=n("kiQV"),b="",y="",_=!0,w=!0,S="RetailChat",x="abcdefghijklmnopqrstuvwxyzабвгдеёжзийклмнопрстуфхцчшщэюя",E="/proxy/services/dict-services/serviceProperty/list?serviceName=RetailChat",O=function(){var e=p(regeneratorRuntime.mark((function e(){var t=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.rawReq.apply(i,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){return e.logError||(_=!1),e.logMetrika||(w=!1),e.applicationName&&(S=e.applicationName),e.Chat&&e.Chat.apiRestUrl&&e.Chat.apiWSUrl?(b=e.Chat.apiRestUrl,y=e.Chat.apiWSUrl,!0):!(!e.conversations||e.conversations.includes("Chat"))},M=function(e){return e.messengerDomain?e.messengerDomain:e.Chat?e.Chat.domain:""},C=function(e,t,n){var r="",o=new Date;n&&(o.setTime(o.getTime()+24*n*60*60*1e3),r="expires=".concat(o.toUTCString())),document.cookie="".concat(e,"=").concat(t,";").concat(r,";path=/")},T=function(e){if("string"==typeof e&&e.length){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),"=([^;]*)")));return!!t&&decodeURIComponent(t[1])}return null},A=function(e){1},N=function(e){var t=e.getHours(),n=e.getMinutes();return"".concat(t<10?"0".concat(t):t,":").concat(n<10?"0".concat(n):n)},P=function(){var e=new Date;return e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1<10?"0".concat(e.getMonth()):e.getMonth(),"-").concat(e.getDate()<10?"0".concat(e.getDate()):e.getDate()," ").concat(e.toTimeString().substring(0,8),",").concat(e.getMilliseconds())},R=function(){return v.version},I=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r){var o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=s.length>3&&void 0!==s[3]?s[3]:"",i.ZABBIX_LOG){e.next=3;break}return e.abrupt("return");case 3:return a="call"==t?{serviceName:n,message:{time:i.getFormattedDate(),text:o}}:{errorType:n,message:{time:i.getFormattedDate(),method:r,text:o}},e.prev=4,e.next=7,i.ajax({type:"POST",url:"/proxy/services/sberlogger/error/RetailChat",data:JSON.stringify(a)});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),i.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=p(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ajax({type:"GET",url:i.SETTINGS_URL});case 3:return t=e.sent,n=[],r=t.reduce((function(e,t){var r=t.propertyValue,o=t.propertyName;try{r=JSON.parse(r)}catch(e){r=t.propertyValue}if(o.match(/CSI_points_/g))try{r=JSON.parse(r),n.push(r)}catch(e){i.log(e)}else if(o.match(/CSI/g))e[o]=r;else if(o.match(/_/g)){var a=o.split(/_/g).reduceRight((function(e,t){return null!==e?f({},t,e):Object.defineProperty({},t,{value:r,writable:!0,configurable:!0})}),null);Object.assign(e,a)}else e[o]=r;return e}),{}),n.length>0?r.CSI_points=n:r.CSI_pointsPositive&&r.CSI_pointsNegative&&(o=r.CSI?r.CSI.Questions.positiveMin:7,r.CSI_points=i.setCSI_points(o,r.CSI_pointsPositive,r.CSI_pointsNegative),delete r.CSI_pointsPositive,delete r.CSI_pointsNegative),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(e,t,n){for(var r=[],o=1;o<=10;o++)o<e?r.push({no:o,text:1===o?"Совсем плохо":"",questions:n}):r.push({no:o,text:10===o?"Прекрасно":"",questions:t});return{CSI_points:r}},D=function(e){var t=e.type,n=e.url,r=e.data,o=e.headers,i=void 0===o?[]:o,a=new XMLHttpRequest;return t=t.toUpperCase(),a.open(t,n),i.length>0&&i.forEach((function(e){e.key&&e.value&&a.setRequestHeader(e.key,e.value)})),new Promise((function(e,t){a.addEventListener("load",(function(){if(4==a.readyState&&200==a.status){if(a.responseText)try{var n=JSON.parse(a.responseText);n.reason||400==n.status?t(n):e(n)}catch(e){t("json parsing error")}}else a.responseURL&&setTimeout((function(){t("network error: ".concat(a.statusText))}),500)})),a.addEventListener("error",(function(e){setTimeout((function(){t(e)}),500)})),r?a.send(JSON.stringify(r)):a.send()}))},B=function(e,t,n){var r,o,i;if(0===t)r=n,o=n,i=n;else{var a=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=a(c,s,e+1/3),o=a(c,s,e),i=a(c,s,e-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*i)]},F=function(){return/android/i.test(navigator.userAgent)},H=function(){return(/iPhone|iPod|iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream},G=function(){var e=window.navigator.userAgent.toLowerCase(),t=F()||H(),n=e.includes("android")&&e.includes("mobile")||e.includes("iphone")||e.includes("ipod")||e.includes("windows")&&e.includes("phone")||(e.includes("blackberry")||e.includes("bb10")||e.includes("rim"))&&!e.includes("tablet")||(e.includes("(mobile; rv:")||e.includes("(tablet; rv:"))&&e.includes("mobile"),r=window.innerWidth<=767;return t&&(n||r)},U=function(e){if(!w)return null;window.Ya&&window.Ya.Metrika?(h=e?new window.Ya.Metrika({id:e}):window.location.host.includes("sberbank.ru")?new window.Ya.Metrika({id:1175048}):new window.Ya.Metrika({id:46173663,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,trackHash:!0}),i.sendYaMetrika("Количество заходов на страницу")):window.SBT&&window.SBT.IS_SITE||function(e,t,n){(t[n]=t[n]||[]).push((function(){try{t.yaCounter46173663=new Ya.Metrika({id:46173663,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,trackHash:!0}),h=t.yaCounter46173663,i.sendYaMetrika("Количество заходов на страницу")}catch(e){i.log(e)}}));var r=e.getElementsByTagName("script")[0],o=e.createElement("script"),a=function(){r.parentNode.insertBefore(o,r)};o.type="text/javascript",o.async=!0,o.src="https://mc.yandex.ru/metrika/watch.js","[object Opera]"==t.opera?e.addEventListener("DOMContentLoaded",a,!1):a()}(document,window,"yandex_metrika_callbacks")},z=function(e){h&&e&&h.params(Object.defineProperty({},S,{value:e,writable:!0,enumerable:!0,configurable:!0}))},W=function(){var e=document.querySelector('meta[name="viewport"]');if(e&&(g=e.content,e.content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),i.isMobileDevice()){var t=document.querySelector('meta[name="theme-color"]');t&&(m=t.content,t.content="#08a652")}},q=function(){var e=document.querySelector('meta[name="viewport"]');if(e&&g&&(e.content=g),i.isMobileDevice()){var t=document.querySelector('meta[name="theme-color"]');t&&m&&(t.content=m)}},$=function(){var e=window.navigator.userAgent.toLowerCase();return/trident/gi.test(e)||/msie/gi.test(e)},Y=function(e,t){var n=function(e){return e&&"object"===l(e)};return n(e)&&n(t)?(Object.getOwnPropertyNames(t).forEach((function(r){var o=e[r],a=t[r];Array.isArray(o)&&Array.isArray(a)?e[r]=o.concat(a):n(o)&&n(a)?e[r]=i.mergeDeep(Object.assign({},o),a):e[r]=a})),e):e},V=function(){try{var e=localStorage.getItem("retailChatDraft");if(e)return e}catch(e){}return""},Z=function(e){if(e.trim().length>0)try{localStorage.setItem("retailChatDraft",e)}catch(e){}else i.deleteDraft()},X=function(){try{localStorage.removeItem("retailChatDraft")}catch(e){}},Q=function(e,t){var n=e%100;if(n>=11&&n<=19)return t[2];switch(n%10){case 1:return t[0];case 2:case 3:case 4:return t[1];default:return t[2]}},K=function(e,t){var n="function"==typeof t?t:function(e){return e[t]};return c(e.reduce((function(e,t){var r=n(t);return e.has(r)||e.set(r,t),e}),new Map).values())},J=function(e,t){var n;return n=null!==e?e:t.length-1,{prev:i.getPrev(n,t),selected:n,next:i.getNext(n,t)}},ee=function(e,t){var n;return null!=e?(n=e+1,t.length<=n&&(n=0)):n=1,n},te=function(e,t){var n;return null!=e?(n=e-1)<0&&(n=t.length-1):(n=t.length-2)<0&&(n=t.length-1),n},ne=function(e){var t=null;return Object.values(e).forEach((function(e){e.type&&"start"===e.type&&(t=e.uid?e.uid:e.id)})),t},re=function(){var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ajax({type:"GET",url:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t=[];return e.forEach((function(e){if(null==t[0]||t[t.length-1].owner_id!==e.owner_id)t.push(s({},e));else if(t[t.length-1].owner_id===e.owner_id){var n=t[t.length-1].time,r=e.time;if(n&&r){var o=r.getHours()-n.getHours(),i=r.getMinutes()-n.getMinutes();0===o&&i<1?(t[t.length-1].style?t[t.length-1].style="middle":t[t.length-1].style="top",t.push(s(s({},e),{},{style:"bottom"}))):t.push(s({},e))}else t[t.length-1].style="",t.push(s({},e))}})),t},ie=function(e){var t="retailChat".concat(e,"History");try{return JSON.parse(sessionStorage.getItem(t))}catch(e){return[]}},ae=function(e,t){var n="retailChat".concat(e,"History");if(e&&t.length>0)try{sessionStorage.setItem(n,JSON.stringify(t))}catch(e){return{error:e}}},se=function(e){try{sessionStorage.removeItem("retailChat".concat(e,"History"))}catch(e){return{error:e}}},ce=function(e,t,n){var r=i.getFirstMessage(e);return!!(t&&t.length>0&&r===t[0].id)||(i.deleteBotHistory(n),!1)},ue=function(e,t){return e.map((function(e,n){return{order_id:t[e.target]?t[e.target].x:n,text:e.text||e,target:e.target||null}}))},le=function(){var e=window.location.hash.match(/#reset/g);return e&&(window.location.hash=""),!!e},fe=function(e){var t=e.conversations,n=e;return t.forEach((function(t){e[t]&&"messanger"===e[t].type&&(n[t].type="messenger")})),n},de=function(){return o()()},pe=function(){return{block:["text","video","start","link","anchor","widget"],widgets:["/csi"]}}},NjGb:function(e,t,n){var r=n("LboF"),o=n("h+D6");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},P4am:function(e,t,n){var r=n("JPst"),o=n("HeW1"),i=n("qpcU");t=r(!1);var a=o(i);t.push([e.i,".chat-retail-icons__container{position:fixed;right:20px;top:auto;bottom:20px;z-index:9999}.chat-retail-icons{width:60px;height:60px;background:#08a652 url("+a+") 13px 13px no-repeat;border-radius:50%;box-shadow:0 25px 31px rgba(29,29,118,.06);cursor:pointer;transition:background-color .2s ease-in-out;padding-top:24px;text-align:center}.chat-retail-icons:focus,.chat-retail-icons:hover{background-color:#34b76f}.chat-retail-icons__count{width:10px;height:10px;border-radius:50%;position:absolute;top:5px;right:5px;background-color:#ff6a59;-webkit-animation:pulseOrange 2s infinite;animation:pulseOrange 2s infinite}.chat-retail-theme__dark .chat-retail-icons{background-color:#0b8940}.chat-retail-theme__dark .chat-retail-icons:focus,.chat-retail-theme__dark .chat-retail-icons:hover{background-color:#08a652}.chat-retail-theme__dark .chat-retail-icons__count{background-color:#f6650a}@-webkit-keyframes pulseGreen{0%{box-shadow:0 0 0 0 rgba(0,172,0,.6)}70%{box-shadow:0 0 0 20px rgba(0,172,0,0)}to{box-shadow:0 0 0 0 rgba(0,172,0,0)}}@keyframes pulseGreen{0%{box-shadow:0 0 0 0 rgba(0,172,0,.6);-webkit-box-shadow:0 0 0 0 rgba(0,172,0,.6)}70%{box-shadow:0 0 0 20px rgba(0,172,0,0);-webkit-box-shadow:0 0 0 20px rgba(0,172,0,0)}to{box-shadow:0 0 0 0 rgba(0,172,0,0)}}@-webkit-keyframes pulseOrange{0%{box-shadow:0 0 0 0 rgba(255,106,89,.6)}70%{box-shadow:0 0 0 20px rgba(255,106,89,0)}to{box-shadow:0 0 0 0 rgba(255,106,89,0)}}@keyframes pulseOrange{0%{box-shadow:0 0 0 0 rgba(255,106,89,.6);-webkit-box-shadow:0 0 0 0 rgba(255,106,89,.6)}70%{box-shadow:0 0 0 20px rgba(255,106,89,0);-webkit-box-shadow:0 0 0 20px rgba(255,106,89,0)}to{box-shadow:0 0 0 0 rgba(255,106,89,0)}}",""]),e.exports=t},QLaP:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},SLVX:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},W6wy:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".chat-retail-mobile .chat-retail-mode__full .chat-retail-messages__video{height:auto;width:100%}.chat-retail-mobile .chat-retail-mode__full .chat-retail-messages__mobile-buttons{display:flex;justify-content:flex-end}.chat-retail-mobile .chat-retail-mode__full .chat-retail-suggestions__item{font-size:14px;line-height:16px;padding:14px 20px;margin:7px 5px 0}.chat-retail-mobile .chat-retail-mode__full .chat-retail-form__main{height:100%}.chat-retail-mobile .chat-retail-mode__full .chat-retail-logo,.chat-retail-mobile .chat-retail-mode__full .chat-retail-logo__default{width:30px;height:30px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-logo__default{width:32px;height:32px;padding:8px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-bubble_type_operator .chat-retail-bubble__wrapper{padding-left:40px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-messages__message{font-size:14px;line-height:20px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-bubble__name{font-size:14px;line-height:20px;padding-left:10px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-bubble__text-wrapper{font-size:14px;line-height:20px;max-width:200px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-bubble__text-wrapper p{font-size:14px;line-height:20px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-bubble__text{padding:7px 10px 0}.chat-retail-mobile .chat-retail-mode__full .chat-retail-calc-form__left{width:100%}.chat-retail-mobile .chat-retail-mode__full .chat-retail-calc-form__right{padding:20px 0 10px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-calc__checkboxes{margin-top:0}.chat-retail-mobile .chat-retail-mode__full .chat-retail-calc__checkboxes .chat-ui-checkbox__control{width:28px;height:28px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-calc__checkboxes .chat-ui-checkbox__control:before{width:28px;height:28px;background-size:24px}.chat-retail-mobile .chat-retail-mode__full .chat-retail-calc__checkboxes .chat-ui-checkbox__text{padding-left:40px;height:30px;display:table-cell;vertical-align:middle;font-size:14px}.chat-retail-mobile .chat-retail-mode__normal .chat-retail-form{position:fixed;top:0;bottom:auto;left:0;right:0}.chat-retail-mobile .chat-retail-mode__normal .chat-retail-form__main{width:100%;height:100vh;height:calc(var(--vh, 1vh)*100);max-height:none;border-radius:0}.chat-retail-mobile .chat-retail-mode__normal .chat-retail-form__main:after{display:none}.chat-retail-mobile .chat-retail-mode__normal .chat-retail-form__close-mobile{position:absolute;top:0;right:10px;background-color:transparent;width:15px;height:15px}.chat-retail-mobile .chat-retail-header{border-radius:0}.chat-retail-mobile .chat-retail-messages__text-wrapper{max-width:calc(100vw - 100px)}.chat-retail-mobile_android .chat-retail-form{top:auto;bottom:0}@media (min-width:768px) and (max-width:1024px){.chat-retail-form__close-mobile{position:absolute;top:0;right:10px;background-color:transparent;width:15px;height:15px}}",""]),e.exports=t},Y3P8:function(e,t,n){var r=n("LboF"),o=n("P4am");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},bCCX:function(e,t,n){"use strict";(function(e,r){var o,i=n("SLVX");o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n("yLpj"),n("3UD+")(e))},cDcd:function(e,t){e.exports=react16},dT2Z:function(e,t,n){"use strict";n.d(t,"w",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"z",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"J",(function(){return g})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"q",(function(){return _})),n.d(t,"j",(function(){return w})),n.d(t,"y",(function(){return S})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return E})),n.d(t,"o",(function(){return O})),n.d(t,"G",(function(){return k})),n.d(t,"p",(function(){return M})),n.d(t,"C",(function(){return C})),n.d(t,"h",(function(){return T})),n.d(t,"H",(function(){return A})),n.d(t,"c",(function(){return N})),n.d(t,"f",(function(){return P})),n.d(t,"I",(function(){return R})),n.d(t,"k",(function(){return I})),n.d(t,"D",(function(){return j})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return D})),n.d(t,"u",(function(){return B})),n.d(t,"t",(function(){return F})),n.d(t,"v",(function(){return H})),n.d(t,"x",(function(){return G})),n.d(t,"F",(function(){return U})),n.d(t,"E",(function(){return z})),n.d(t,"s",(function(){return W})),n.d(t,"r",(function(){return q}));var r=n("M39V"),o=n.n(r),i=n("Ms6E"),a=n("J/DB"),s=n("dT2Z");function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=function(e){return function(t){t({type:"SET_CONFIG",config:e})}},f=function(){return function(e){a.a.closeSocket(),e({type:"RESET_STATE"}),e({type:"FAILURE",error:{type:"reconnect"}})}},d=function(e){return function(t){t({type:"CHANGE_CONFIG",config:e})}},p=function(e){return function(t){t({type:"SET_DOMAIN",domain:e})}},h=function(e){return function(t){t({type:"VIEW_CHANGE",view:e})}},g=function(e,t){return function(n){i.sendYaMetrika({"Клик по ярлыку":{"Саджесты":"Количество показов"}}),n({type:"SHOW_SUGGESTIONS",suggestions:e,conversationName:t})}},m=function(e){return function(t){t({type:"HIDE_SUGGESTIONS",conversationName:e})}},v=function(){return function(){var e=u(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),t({type:"FORM_LOAD",formOnLoad:!0}),r.config.logError){e.next=6;break}t({type:"LOAD_SETTINGS"}),e.next=16;break;case 6:return e.prev=6,e.next=9,i.loadSettings();case 9:o=e.sent,t({type:"LOAD_SETTINGS",settings:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),t({type:"LOAD_SETTINGS"});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n){return e.apply(this,arguments)}}()},b=function(){return function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isIE()){e.next=4;break}t(s.n()),e.next=6;break;case 4:return e.next=6,t(s.n());case 6:t(s.y()),t(s.g());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=u(regeneratorRuntime.mark((function e(t,n){var r,o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!a.a.isWebsocketConnected()&&!r.Chat.isConnect){e.next=3;break}return e.abrupt("return",null);case 3:return a.a.setParameters(r.config.Chat),t({type:"FORM_LOAD",formOnLoad:!0}),t({type:"RESET_ERROR"}),e.prev=6,e.next=9,a.a.connect(r.device);case 9:o=e.sent,c=o.sessionId,u=o.isNewToken,t({type:"INIT_SUCCESS",isNewToken:u,user:{sessionId:c}}),u||i.sendYaMetrika({"Клик по ярлыку":{"Новый диалог":"Создан"}}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),t({type:"FAILURE",error:{type:"connect"}}),i.sendYaMetrika({"Клик по ярлыку":{"Новый диалог":"Ошибка соединения"}});case 20:a.a.on("receive_conversations",(function(e){if(!e.conversation)return null;t({type:"RECEIVE_CONVERSATIONS",dialog:e.conversation}),t((function(e,t){var n=t().config.Chat?t().config.Chat.clientRegion:"",r=a.a.sendDeviceContext(n);a.a.once("send_device_context",(function(){e({type:"SEND_DEVICE_CONTEXT",context:r})}))})),t(s.j()),t({type:"TEXTAREA_CHANGE",isDisabled:!1}),n().isNewToken&&"TECH_BREAK"===e.conversation.status&&(i.sendYaMetrika({"Клик по ярлыку":{"Технический перерыв":"Форма ошибки на весь экран"}}),t({type:"FORM_LOAD",formOnLoad:!1}),t({type:"FAILURE",error:{type:"tech_break"}}),a.a.closeSocket())})),a.a.on("message_status_updated",(function(e){t({type:"UPDATE_MESSAGE_STATUS",data:e})})),a.a.on("error_closed",(function(){i.sendYaMetrika({"Клик по ярлыку":{"Новый диалог":"Закрытие ws соединения после неудачных попытор реконнекта"}}),i.deleteDraft(),t({type:"FAILURE",error:{type:"error_closed"}}),t({type:"TEXTAREA_CHANGE",isDisabled:!0})})),a.a.on("get_message",(function(e){e&&(t({type:"RECEIVE_MESSAGE",message:e}),e.suggestions&&e.suggestions.length>0&&t({type:"SHOW_SUGGESTIONS",suggestions:e.suggestions,conversationName:"Chat"}))})),a.a.on("get_history",(function(e){if(e&&e.messages){t({type:"GET_HISTORY",data:e});var r,o=n(),i=o.Chat;if(i&&i.messages&&i.messages.length>0&&(r=i.messages[i.messages.length-1]),o.dialog&&"TECH_BREAK"===o.dialog.status)t({type:"TEXTAREA_CHANGE",isDisabled:!0}),e.messages.length?t({type:"SHOW_ADDITIONAL_FORM",formName:"tech_break"}):(t({type:"FORM_LOAD",formOnLoad:!1}),t({type:"FAILURE",error:{type:"tech_break"}}),a.a.closeSocket());else if(r&&r.suggestions&&r.suggestions.length>0){var s=new Date,c=r.time?r.time:new Date;c.setSeconds(c.getSeconds()+o.config.Chat.suggestionShowTime),c>s&&t({type:"SHOW_SUGGESTIONS",suggestions:r.suggestions,conversationName:"Chat"})}}})),a.a.on("unauthorized",(function(){var e=n(),r=e.Chat;a.a.removeSession(),i.deleteDraft(),t({type:"UNAUTHORIZED"}),t({type:"CLOSE_SOCKET"}),r.messages&&r.messages.length>0?t({type:"SHOW_ADDITIONAL_FORM",formName:"reconnect"}):"Icon"!==e.activeComponent?t({type:"FAILURE",error:{type:"reconnect"}}):"Icon"===e.activeComponent&&t(O())})),a.a.on("socket_closed",(function(){t({type:"FORM_LOAD",formOnLoad:!0}),a.a.reconnectWithToken().then((function(){t({type:"FORM_LOAD",formOnLoad:!1}),t({type:"CLOSE_OPEN"})}),(function(e){t({type:"FORM_LOAD",formOnLoad:!1}),e.error&&"token"===e.error?t({type:"SHOW_ADDITIONAL_FORM",formName:"reconnect"}):e.error&&"interval"===e.error&&t({type:"FAILURE",error:{type:"connect"}})}))})),a.a.on("receive_record_state",(function(e){var r=n();if(!e)return null;if(i.logError("call","BREAK","BREAK","Технический перерыв"),r.dialog&&r.dialog.involved_users_ids instanceof Array&&r.dialog.involved_users_ids.includes(e.record_id)&&"USER"===e.record_type)if("TECH_BREAK"===e.record_state)i.sendYaMetrika({"Клик по ярлыку":{"Технический перерыв":"Отображение окна"}}),t({type:"SHOW_ADDITIONAL_FORM",formName:"tech_break"}),t({type:"TEXTAREA_CHANGE",isDisabled:!0});else{if("ACTIVE"!==e.record_state)return null;t({type:"CLOSE_ADDITIONAL_FORM"}),t({type:"TEXTAREA_CHANGE",isDisabled:!1})}})),a.a.on("send_text_message",(function(e){var n=e.message;i.sendYaMetrika({"Клик по ярлыку":{"Сообщение клиента":"Доставлено"}}),t({type:"UPDATE_TEXT_MESSAGE",message:n})}));case 29:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}()},_=function(e){return function(){var t=u(regeneratorRuntime.mark((function t(n,r){var o,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),t.prev=1,t.next=4,a.a.sendMessage(e,o.dialog.id);case 4:s=t.sent,c=s.clientId,i.sendYaMetrika({"Клик по ярлыку":{"Сообщение клиента":"Отправлено"}}),n({type:"SEND_TEXT_MESSAGE",message:{text:e,client_message_id:c}}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),i.sendYaMetrika({"Клик по ярлыку":{"Сообщение клиента":"Не отправлено"}}),n({type:"FAILURE",error:{type:"connect"}});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},w=function(){return function(e,t){var n=t();if(n.Chat.historyNext&&n.Chat.historyNext.from_id)a.a.getHistory({filter:n.Chat.historyNext});else{var r=Number.MAX_SAFE_INTEGER||9007199254740991,o={filter:{conversation_id:n.dialog.id,direction_backward:!0,from_id:r,limit:n.config.Chat?n.config.Chat.historyLimit:30}};a.a.getHistory(o)}}},S=function(){return function(e,t){var n=t().config.Chat,r=o.a.getParser(window.navigator.userAgent);e({type:"SET_DEVICE",userDevice:{domain:n.domain||window.location.host,model:n.browserName||r.getBrowserName(),platform:n.browserVersion||r.getBrowserVersion(),uid:i.getUUID(),version:n.chatVersion||i.getApplicationVersion()}})}};var x=function(e){return function(t){t({type:"CHANGE_MESSAGE_TEXT",value:e})}},E=function(){return function(e){e({type:"CLOSE_ADDITIONAL_FORM"})}},O=function(){return function(){var e=u(regeneratorRuntime.mark((function e(t,n){var r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"RESET_STATE"}),t({type:"FORM_LOAD",formOnLoad:!0}),e.prev=2,r=n(),e.next=6,a.a.reconnect(r.device);case 6:o=e.sent,i=o.sessionId,s=o.isNewToken,t({type:"INIT_SUCCESS",isNewToken:s,user:{sessionId:i}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:"FAILURE",error:{type:"connect"}});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()},k=function(){return function(e){i.sendYaMetrika({"Клик по ярлыку":{CSI:{"Пришел запрос оценки":"Открытие формы"}}}),e({type:"SHOW_ADDITIONAL_FORM",formName:"csi"})}},M=function(){return function(e){e({type:"RESET_UNREAD_MESSAGES"})}},C=function(e){return function(t){t({type:"SET_REPLY_MESSAGE",replyMessage:e})}},T=function(){return function(e){e({type:"SET_REPLY_MESSAGE",replyMessage:{title:"",message:""}})}},A=function(e,t){return function(n){e&&n({type:"SHOW_GREETING",greeting:{isShow:!0,text:e,timeout:t||5e3}})}},N=function(e,t){return function(n){if(e){var r={enable:!0,format:"PLAIN",text:e,suggestions:t};n({type:"CHANGE_FIRST_MESSAGE",firstMessage:r}),n({type:"SET_FIRST_MESSAGE",message:r}),n({type:"SHOW_SUGGESTIONS",suggestions:t.map((function(e,t){return{order_id:e.x?e.x:t,text:e.text||e,target:e.target||null}})),conversationName:"Chat"})}}},P=function(){return function(e){e({type:"CLOSE_GREETING"})}},R=function(){return function(e){e({type:"SHOW_SEARCH"})}},I=function(){return function(e){e({type:"HIDE_SEARCH"})}},j=function(e,t){return function(n){n({type:"SET_SEARCH_RESULT",result:e,sequence:t})}},L=function(e){return function(t){t({type:"SET_NEXT_SEARCH_RESULT",next:e})}},D=function(e){return function(t){t({type:"SET_PREV_SEARCH_RESULT",prev:e})}},B=function(e,t){return function(n,r){if(r().config[t].testMode){var o=0;if(Object.values(e).forEach((function(e){e.type&&"start"===e.type&&(o+=1)})),0===o){n({type:"SET_BOT_MESSAGE",message:{id:0,uid:0,text:"Нет блока с типом Start",time:"",owner:"error",owner_id:"error",style:"",status:"",type:"error"},conversationName:t})}if(o>1){n({type:"SET_BOT_MESSAGE",message:{id:0,uid:0,text:"Несколько блоков с типом Start",time:"",owner:"error",owner_id:"error",style:"",status:"",type:"error"},conversationName:t})}}n({type:"SET_BOT_SCENARIO",scenario:e,conversationName:t})}},F=function e(t,n){return function(r,o){var a=o(),c=a[n].scenario,u=c[t];switch(u.type){case"text":case"start":case"link":case"video":case"":default:r({type:"SET_BOT_MESSAGE",message:u,conversationName:n}),1===u.suggestions.length&&""===u.suggestions[0].text?setTimeout((function(){r(s.t(u.suggestions[0].target,n))}),1e3):r({type:"SHOW_SUGGESTIONS",suggestions:i.sortBotSuggestions(u.suggestions,c),conversationName:n});break;case"anchor":if(u.data.file){var l=u.data.file.match(/http/)?u.data.file:a.config[n].jsonSrc+u.data.file;i.getJson(l).then((function(t){if(t.error)r({type:"SET_BOT_MESSAGE",message:{data:"Ошибка при загрузке сценария",type:"text",suggestions:[{text:"В начало",target:i.getFirstMessage(c)}]},conversationName:n}),r({type:"SHOW_SUGGESTIONS",suggestions:[{text:"В начало",target:i.getFirstMessage(c)}],conversationName:n}),i.sendYaMetrika({ChatBot:"Ошибка при загрузке сценария бота"});else if(i.sendYaMetrika({ChatBot:"Загружен сценарий бота"}),r({type:"SET_BOT_SCENARIO",scenario:t.data,conversationName:n}),u.data.target&&"start"===u.data.target){var o=i.getFirstMessage(t.data);r(e(o,n))}else r(e(u.data.target,n))}))}else{var f=u.data.target;if(!f||"operator"!==f&&"messenger"!==f)if(f&&"start"===f){r({type:"SET_BOT_MESSAGE",message:u,conversationName:n});var d=i.getFirstMessage(c);1===c[d].suggestions.length&&""===c[d].suggestions[0].text?setTimeout((function(){r(s.t(c[d].suggestions[0].target,n))}),1e3):r({type:"SHOW_SUGGESTIONS",suggestions:i.sortBotSuggestions(c[d].suggestions,c),conversationName:n})}else r({type:"SET_BOT_MESSAGE",message:c[f],conversationName:n}),1===c[f].suggestions.length&&""===c[f].suggestions[0].text?setTimeout((function(){r(s.t(c[f].suggestions[0].target,n))}),1e3):r({type:"SHOW_SUGGESTIONS",suggestions:i.sortBotSuggestions(c[f].suggestions,c),conversationName:n});else r({type:"SET_BOT_MESSAGE",message:u,conversationName:n}),r({type:"VIEW_CHANGE",view:"Chat"})}break;case"widget":r({type:"SET_BOT_MESSAGE",message:u,conversationName:n}),u.suggestions&&u.suggestions.length>0&&(u.data&&"/csi"===u.data.endpoint?r({type:"SET_SUGGESTIONS",suggestions:i.sortBotSuggestions(u.suggestions,c),conversationName:n}):r({type:"SHOW_SUGGESTIONS",suggestions:i.sortBotSuggestions(u.suggestions,c),conversationName:n}))}}},H=function(e,t,n){return function(r,o){r({type:"SET_CLIENT_MESSAGE",message:{text:e},conversationName:n}),setTimeout((function(){r(s.t(t,n)),i.saveBotHistory(n,o()[n].history)}),1e3)}},G=function(e){return function(t){t({type:"SET_CONVERSATIONS",config:e})}},U=function(e,t){return function(n){n({type:"SET_VIDEO_VOLUME",value:e,conversationName:t})}},z=function(e,t){return function(n){n({type:"SET_VIDEO_HELLO",value:e,conversationName:t})}},W=function(e,t){return function(n){n({type:"SET_BOT_HISTORY",history:e,conversationName:t})}},q=function(e,t){return function(n){n({type:"SET_BOT_ERROR",error:e,conversationName:t})}}},faye:function(e,t){e.exports=reactDOM16},fiWp:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"h+D6":function(e,t,n){(t=n("JPst")(!1)).push([e.i,".chat-retail-block{font-size:12px;line-height:15px;font-family:SBSansInterface,SBSansInterface-Regular,OpenSans,Helvetica Neue,Helvetica,Arial,sans-serif;z-index:9999;font-weight:500!important}.chat-retail-block *{box-sizing:border-box}.chat-retail-block p{margin:0;padding:0}.chat-retail-block a,.chat-retail-block div,.chat-retail-block input,.chat-retail-block label,.chat-retail-block li,.chat-retail-block p,.chat-retail-block span,.chat-retail-block textarea{font-family:SBSansInterface,SBSansInterface-Regular,OpenSans,Helvetica Neue,Helvetica,Arial,sans-serif}@media screen and (-moz-windows-theme){.chat-retail-block ::-webkit-scrollbar{width:8px}.chat-retail-block ::-webkit-scrollbar-track{background:transparent}.chat-retail-block ::-webkit-scrollbar-thumb{background:#c0c9cd;border-radius:4px;width:4px}.chat-retail-block ::-webkit-scrollbar-thumb:window-inactive{background:transparent}}.chat-retail-main-block{max-width:800px;box-sizing:border-box;padding-left:0;padding-right:0;min-width:320px;margin-left:auto;margin-right:auto;position:relative}#retailChat-title{font-size:46px;line-height:1em;margin:30px 0 20px;display:block;text-decoration:none;font:500 46px/50px SBSansInterface,OpenSans,Helvetica Neue,Helvetica,Arial,sans-serif;color:#262626;outline:0;padding:0;height:50px}",""]),e.exports=t},kiQV:function(e){e.exports=JSON.parse('{"name":"front-chat-retail","version":"5.3.0","private":false,"license":"UNLICENSED","browserslist":["last 1 version","ie >= 11","edge >= 40","chrome >= 70","safari >= 11"],"engines":{"node":">=12","npm":">=6"},"repository":{"type":"git","url":"https://sbtatlas.sigma.sbrf.ru/stash/projects/WSSBRF/repos/front-chat-retail"},"maintainers":[{"name":"Ткачёва Елена Сергеевна","email":"Paymukhina.E.S@sberbank.ru"}],"scripts":{"clean":"rimraf dist/build dist/assets","dev":"webpack-dev-server --config webpack.dev.config.js --progress --inline --hot","dev:pard":"webpack-dev-server --config webpack.pard.config.js --progress --inline --hot && node tools/add-partner-version.js","start":"cross-env NODE_TLS_REJECT_UNAUTHORIZED=0 npm i && npm run dev","prebuild":"npm run clean","build":"webpack --config webpack.config.js","postbuild":"backbase-build --config backbase.config.js","build:pard":"webpack --env.partner --config webpack.config.js && node tools/add-partner-version.js","lint":"eslint --ext jsx --ext js app/src && stylelint app/src","lint:js":"eslint","lint:xml":"backbase-lint-xml --config backbase.config.js","lint:css":"stylelint","lint-fix":"lefthook run fix","test":"jest --runInBand","test-strict":"cross-env CHECK_EXPECT=1 jest --runInBand","test:watch":"jest --runInBand --watch","test:changed":"lefthook run test-changed","test:snapshot":"jest --runInBand --updateSnapshot","test:coverage":"cross-env CHECK_EXPECT=1 OVERALL_COVERAGE=1 EXTENDED_TIMING=1 jest --runInBand --coverage","import":"NODE_ENV=production npm run build && npx @sber/backbase-kit import --silent","backbase-lint-xml":"backbase-lint-xml","nexus-change-password":"nexus-change-password"},"dependencies":{"@sbtweb/chat-ui":"^1.5.3","bem-cn":"2.1.3","bowser":"^2.11.0","date-fns":"^1.29.0","lottie-web":"^5.7.3","marked":"^0.6.2","prop-types":"^15.7.2","react":"^16.14.0","react-dom":"^16.14.0","react-rating":"^0.9.0","react-redux":"^6.0.0","redux":"^4.0.5","redux-logger":"^3.0.6","redux-thunk":"^2.3.0","uuid":"^3.2.1"},"devDependencies":{"@sber/backbase-kit":"^2.5.4","@sber/build-kit":"^5.1.2","@sber/platform-kit":"^7.3.6","@sber/qg-kit":"^5.2.0","copy-webpack-plugin":"^4.6.0","ignore-loader":"^0.1.2","jest-canvas-mock":"^2.2.0","mock-socket":"^9.0.0","string-replace-webpack-plugin":"^0.1.3"}}')},qT12:function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case m:case u:return e;default:return t}}case i:return t}}}function x(e){return S(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||S(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===c},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===c||e===s||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===_||e.$$typeof===w||e.$$typeof===b)},t.typeOf=S},qpcU:function(e,t,n){"use strict";n.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNCIgaGVpZ2h0PSIzNCIgdmlld0JveD0iMCAwIDM0IDM0Ij4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTMzLjMzIDE2LjMyNUMzMy4xNTUgNy42MDUgMjUuOTc1LjMxMiAxNy4yNTcuMDEgNy43OTMtLjMxNiAwIDcuMjYzIDAgMTYuNjY3YzAgOS4yMDcgNy40NzIgMTYuNjY3IDE2LjY2NyAxNi42NjcgMS4yMzkgMCAyLjQ0Ni0uMTM2IDMuNjA4LS4zOTIgMy41MzItLjc3OCA3LjE3OC0yLjU1NCAxMC42Ny0xLjYxOGwuNzYzLjIwNGMuODQ4LjA3IDEuNTctLjYzOSAxLjUtMS41bC0uMjA3LS43N2MtLjkyNy0zLjQ1LS44ODYtNS4zOTItLjA4Ny04Ljg3My4yOTktMS4zMDMuNDQ0LTIuNjYyLjQxNy00LjA2bS0yMS43MS0zLjM1NGMuMTA1LTMuMDg2IDIuMjI3LTUuMzI1IDYuMDk0LTUuMzI1IDMuNTY4IDAgNS45NTEgMi4wNTcgNS45NTEgNC45MzUgMCAxLjk5Mi0uOTkgMy4zODUtMi43NiA0LjQ0LTEuNzA2IDEuMDAyLTIuMTg4IDEuNjY2LTIuMTg4IDIuOTU1di43NDNoLTMuMDJsLS4wMTQtLjg4NmMtLjExNy0xLjk1My42MzgtMy4xMjUgMi40MzUtNC4xOCAxLjYxNS0uOTc2IDIuMTYyLTEuNjY2IDIuMTYyLTIuOTU1IDAtMS4zNTQtMS4wOTQtMi4zMzEtMi43MzUtMi4zMzEtMS42OCAwLTIuNzYgMS4wMTYtMi44NjQgMi42MDRoLTMuMDZ6bTUuNzMgMTMuOTU4Yy0xLjMwMiAwLTIuMTYyLS44Mi0yLjE2Mi0yLjA3IDAtMS4yNjMuODYtMi4wODMgMi4xNjItMi4wODMgMS4zMjggMCAyLjE2MS44MiAyLjE2MSAyLjA4MyAwIDEuMjUtLjgzMyAyLjA3LTIuMTYxIDIuMDd6Ii8+Cjwvc3ZnPgo="},rf6O:function(e,t){e.exports=propTypes16},ssUE:function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(2),i=n(1),a={ns:"",el:"__",mod:"_",modValue:"_",classMap:null},s=(0,o.assign)({},a);function c(e,t){var n=t.name,r=t.mods,o=t.mixes,i=t.states,a=[n];return r&&(a=a.concat(Object.keys(r).filter((function(e){return r[e]})).map((function(t){var o=r[t];return!0===o?n+e.mod+t:n+e.mod+t+e.modValue+o})))),i&&Object.keys(i).forEach((function(e){var t=i[e];a=a.concat(Object.keys(t).filter((function(e){return t[e]})).map((function(t){return e+t})))})),e.ns&&(a=a.map((function(t){return e.ns+t}))),o&&(a=a.concat(function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.map((function(e){return"function"==typeof e?e.toString():Array.isArray(e)?e.join(" "):"string"==typeof e?e:""})).filter((function(e){return e}))}(o))),e.classMap&&(a=a.map((function(t){return e.classMap[t]||t}))),a.join(" ")}function u(e,t){for(var n=(0,o.assign)({},t),r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return n.mixes=(n.mixes||[]).concat(i),f(e,n)}function l(e,t,n){for(var r=(0,o.assign)({},t),i=(0,o.assign)({},r.states||{}),a=arguments.length,s=Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return i[n]=o.assign.apply(void 0,[{},i[n]||{}].concat(s)),r.states=i,f(e,r)}function f(e,t){function n(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];if(!i.length)return c(e,t);var s=(0,o.assign)({},t);return s=i.reduce((function(t,n){return"string"==typeof n?t.name+=e.el+n:"object"===(void 0===n?"undefined":r(n))&&(t.mods=(0,o.assign)(t.mods||{},n)),t}),s),f(e,s)}return n.mix=u.bind(null,e,t),n.has=l.bind(null,e,t,"has-"),n.state=n.is=l.bind(null,e,t,"is-"),n.toString=n.valueOf=c.bind(null,e,t),n.split=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return String.prototype.split.apply(c(e,t),r)},n}function d(e){if("string"!=typeof e)throw new Error(i.ERROR_BLOCK_NAME_TYPE);if(!(e=(0,o.trim)(e)))throw new Error(i.ERROR_BLOCK_NAME_EMPTY);return f(s,{name:e})}d.setup=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o.assign)(s,e)},d.reset=function(){(0,o.assign)(s,a)},t.default=d,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_BLOCK_NAME_TYPE="Block name should be a string",t.ERROR_BLOCK_NAME_EMPTY="Block name should be non-empty"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.assign=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=0;o<t.length;o++){var i=t[o];for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])}return r}}])},e.exports=r()},uf2L:function(e,t,n){"use strict";n.r(t);n.p,n.p,n.p,n.p;var r=n("J/DB");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(r.b)();var s=[{id:1,text:"Вопрос не решили"},{id:2,text:"Долго отвечали"},{id:3,text:"Не понравился тон"},{id:4,text:"Ответ не понятен"},{id:5,text:"Другое"}],c=[{id:1,text:"Решили вопрос"},{id:2,text:"Быстро отвечали"},{id:3,text:"Приятный тон ответов"},{id:4,text:"Все хорошо"},{id:5,text:"Другое"}],u={applicationName:"RetailChatNew",startForm:"Icon",conversations:["Chat"],logError:!0,logMetrika:!0,mountContainerId:"chat-app",mainBundlePath:"/portalserver/static/widgets/%5BBBHOST%5D/RetailChat",chatInContent:!1,theme:{name:"default",primaryColor:"#00ac00",secondaryColor:"#404040"},size:{},search:{enabled:!0,minLength:2},headerIsEnabled:!0,formsOption:{Icon:{formAfterClick:"Chat",iconImgUrl:"",iconPosition:"",zIndex:1e3},Conversations:{withPicture:!1,pictureUrl:"",title:"Связь с банком",text:"С радостью ответим на ваши вопросы в чате! Если бот не сможет помочь – к чату подключиться оператор."}},Chat:{type:"messenger",name:"Помощник от Сбербанка",apiRestUrl:"",apiWSUrl:"",dictionary:{headerTitle:"Связь с банком",botName:"Помощник от Сбербанка",inputPlaceholder:"Введите сообщение",techBreakTitle:"На данный момент отправка сообщений невозможна",techBreakText:"Попробуйте зайти позже",csiButtonText:"Хотите оценить обслуживание в чате?",csiButtonTextNo:"Позже",csiButtonTextYes:"Да"},reconnectMaxCount:1,reconnectDuration:10,initTimeout:30,suggestionShowTime:60,historyLimit:30,isNewOperatorPlace:!1,firstMessage:{enable:!0,format:"PLAIN",text:"Здравствуйте! Здесь вы можете задать общие вопросы по продуктам и услугам банка. Для персонального обслуживания используйте чат в Сбербанк Онлайн.",suggestions:[]},domain:"sberbank.ru",messengerDomain:""},Bot:{type:"chatBotFlow",name:"Помощник от Сбербанка",iconImgUrl:"",crossOrigin:!0,botScenarioName:"",jsonSrc:""},Elena:{type:"chatBotFlow",name:"Помощник от Сбербанка",videoImgUrl:"",videoBotName:"Елена",iconImgUrl:"",crossOrigin:!0,botScenarioName:"",jsonSrc:"",videoSrc:"",videoQuality:"sd"},CSINew:{Rating:{title:"Оцените чат",subTitle:"от 1 (совсем плохо)\nдо 10 (прекрасно)",responseText:"Оценка:"},Questions:{positiveMin:7,positiveResponseText:"Понравилось:",negativeResponseText:"Не понравилось:"},Comments:{isEnabled:!0,title:"Похвала, предложение, замечание",placeholder:"Введите комментарий",responseText:"Комментарий:"}},CSI:{steps:["Rating","Questions","Comments"],Rating:{texts:{title:"Оцените обслуживание",subTitle:"от 1 (совсем плохо)\nдо 10 (прекрасно)",buttonText:"Оценить",responseText:"Оценка:"}},Questions:{positiveMin:7,texts:{titlePositive:"Что вам понравилось?",titleNegative:"Что пошло не так?",buttonText:"Выбрать",positiveResponseText:"Понравилось:",negativeResponseText:"Не понравилось:"}},Comments:{texts:{title:"Прокомментируйте, пожалуйста, вашу оценку",buttonText:"Написать",responseText:"Комментарий:"}}},CSIPoints:[{no:1,text:"Совсем плохо",questions:s},{no:2,text:"",questions:s},{no:3,text:"",questions:s},{no:4,text:"",questions:s},{no:5,text:"",questions:s},{no:6,text:"",questions:s},{no:7,text:"",questions:c},{no:8,text:"",questions:c},{no:9,text:"",questions:c},{no:10,text:"Прекрасно",questions:c}]};function l(){var e={};window.SBT.REGION_DATA&&(e.clientRegion=window.SBT.REGION_DATA.name||window.SBT.REGION_DATA.REGION_NAME);var t=window.SBT.retailChat.expSettings;if(t&&t.length){var n=t.reduce((function(e,t){return i(i({},e),{},a({},t.name,t.value))}),{});e.apiRestUrl=n.retailChat_restApiUrl,e.apiWSUrl=n.retailChat_wsApiUrl,e.globalChatEnabled=n.retailChat_enabled}return e}window.SBT=window.SBT||{},window.SBT.retailChat=window.SBT.retailChat||{},window.SBT.retailChat.start=function(e){if(!window.bd||"true"!==window.bd.designMode){var t=e;if(t&&t.setNewConversation){var n=e.widgetConversations.split(","),r=e.widgetStartForm;n&&n.length>0&&(t.conversations=n,t.startForm=r)}!function(e){if(!e.Chat.globalChatEnabled||!e.chatEnabled)return;if(!window.sbt_newchat)return;setTimeout((function(){window.sbt_newchat.init(e)}),30)}(i(i(i({},u),t),{},{Chat:i(i({},u.Chat),l())}))}},window.addEventListener("load",(function(){window.SBT.retailChat.isLoad=!0,window.SBT.retailChat.start(window.SBT.retailChat.settings)}))},xk4V:function(e,t,n){var r=n("4fRq"),o=n("I2ZF");e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},ycSr:function(e,t){e.exports=dompurify}});