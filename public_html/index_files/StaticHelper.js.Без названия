!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/portalserver/static/widgets/%5BBBHOST%5D/StaticHelper/",n(n.s=0)}({0:function(e,t,n){e.exports=n("ddfaa")},"3aa4e":function(e,t,n){"use strict";(function(e){var n,r,i=[];function a(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function o(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function c(e,t,n){c.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function u(e,t){u.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function l(e,t){l.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function f(e,t,n){f.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function p(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function d(e,t,n,r,i,a,o){o=o||[];var b=(i=i||[]).slice(0);if(void 0!==a){if(r){if("function"==typeof r&&r(b,a))return;if("object"==typeof r){if(r.prefilter&&r.prefilter(b,a))return;if(r.normalize){var h=r.normalize(b,a,e,t);h&&(e=h[0],t=h[1])}}}b.push(a)}"regexp"===p(e)&&"regexp"===p(t)&&(e=e.toString(),t=t.toString());var y=typeof e,v=typeof t,g="undefined"!==y||o&&o[o.length-1].lhs&&o[o.length-1].lhs.hasOwnProperty(a),w="undefined"!==v||o&&o[o.length-1].rhs&&o[o.length-1].rhs.hasOwnProperty(a);if(!g&&w)n(new u(b,t));else if(!w&&g)n(new l(b,e));else if(p(e)!==p(t))n(new c(b,e,t));else if("date"===p(e)&&e-t!=0)n(new c(b,e,t));else if("object"===y&&null!==e&&null!==t)if(o.filter((function(t){return t.lhs===e})).length)e!==t&&n(new c(b,e,t));else{if(o.push({lhs:e,rhs:t}),Array.isArray(e)){var m;e.length;for(m=0;m<e.length;m++)m>=t.length?n(new f(b,m,new l(void 0,e[m]))):d(e[m],t[m],n,r,b,m,o);for(;m<t.length;)n(new f(b,m,new u(void 0,t[m++])))}else{var O=Object.keys(e),j=Object.keys(t);O.forEach((function(i,a){var c=j.indexOf(i);c>=0?(d(e[i],t[i],n,r,b,i,o),j=s(j,c)):d(e[i],void 0,n,r,b,i,o)})),j.forEach((function(e){d(void 0,t[e],n,r,b,e,o)}))}o.length=o.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new c(b,e,t)))}function b(e,t,n,r){return r=r||[],d(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,a=t[n],o=r.path.length-1;for(i=0;i<o;i++)a=a[r.path[i]];switch(r.kind){case"A":e(a[r.path[i]],r.index,r.item);break;case"D":delete a[r.path[i]];break;case"E":case"N":a[r.path[i]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=s(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}n="object"==typeof e&&e?e:"undefined"!=typeof window?window:{},(r=n.DeepDiff)&&i.push((function(){void 0!==r&&n.DeepDiff===b&&(n.DeepDiff=r,r=void 0)})),a(c,o),a(u,o),a(l,o),a(f,o),Object.defineProperties(b,{diff:{value:b,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:function(e,t,n){if(e&&t){d(e,t,(function(r){n&&!n(e,t,r)||h(e,t,r)}))}},enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,a=t[n],o=r.path.length-1;for(i=0;i<o;i++)a=a[r.path[i]];switch(r.kind){case"A":e(a[r.path[i]],r.index,r.item);break;case"D":case"E":a[r.path[i]]=r.lhs;break;case"N":delete a[r.path[i]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=s(t,n)}return t}(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==r},enumerable:!0},noConflict:{value:function(){return i&&(i.forEach((function(e){e()})),i=null),b},enumerable:!0}}),t.a=b}).call(this,n("698d7"))},"698d7":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},ddfaa:function(e,t,n){"use strict";n.r(t);n.p,n.p,n.p,n.p;var r=n("e001d");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}[[14,20],[17,26],[21,32],[24,36],[28,38],[32,46],[36,48],[46,62],[56,76]].map((function(e){var t=i(e,2),n=t[0],r=t[1];return{name:"".concat(n,"px/").concat(r,"px"),element:"span",styles:{"font-size":"".concat(n,"px"),"line-height":"".concat(r,"px")}}}));"undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date;n("3aa4e");console;function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=window,d=p.be,b=(p.bd,window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.includes("Trident/")||!console.warn?function(){}:console.warn);function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.body.querySelector(".static-helper .bp-g-include");if(t&&window.dataLayer){var i,a=e.getPreference("pageUrl")||"";i=a?n.querySelector("*")?n.innerHTML.match(/rendered/)?"submit_error_render":"show_widget":"submit_error_page":"sumbit_error_no_settings",window.dataLayer.push({event:"SITE_Widget_".concat(r.a),action:i,label:a})}var o=e.body.querySelector("[data-widget-start]");if(o){var c=y(o.dataset.widgetStart);c&&c(f(f({},e),{},{body:o}))}}function y(e){var t=e.match(/^([^(]+)\((.+)\)$/)[1].split(".");return"window"===t[0]&&t.shift(),t.reduce((function(e,t){return e[t]?e[t]:(b("no ".concat(t," handler onload for static widget")),e)}),window)}d.widgets=d.widgets||{},d.widgets[r.a]={start:function(e){var t=window&&window.bd&&"true"===window.bd.designMode;t&&function(e){if(!e.addEventListener||!function(e){var t=window,n=t.be,r=void 0===n?{}:n,i=t.bd,a=void 0===i?{}:i,o=r.ice,c=void 0===o?{}:o,u=r.utils,l=void 0===u?{}:u,f=c.controller,s=a.designMode,p=l.module,d=e.model,b=void 0===d?{}:d,h=e.addEventListener,y=b.manageable;return f&&"true"===s&&h&&(["true","",void 0].includes(y)||p("top.bd.PageMgmtTree.selectedLink").isMasterPage)}(e))return void b("widget is not manageable");e.addEventListener("preferences-form",(function(t){var n={};try{var r=e.body.querySelector('[type="application/widget+json"]');if(!r)return;n=r?JSON.parse(r.innerHTML):{}}catch(e){b("Some issue with static json config")}if(n&&n.widget){var i=e.model.preferences.array.filter((function(e){return e.viewHint||Object.keys(n.widget).includes(e.name)}));Object.entries(n.widget).forEach((function(t){var n=c(t,2),r=n[0],a=n[1],o=e.model.preferences.array.find((function(e){return e.name===r})),u=o||new b$.portal.preferences.PreferenceNode,l="role=user,designModeOnly,input=text-input",f=new b$.portal.preferences.inputType.text,s=new b$.portal.preferences.datatype.string,p=u.value||""+a.value;a.options?(l="role=user,designModeOnly,input=select-one",f=new b$.portal.preferences.inputType["select-one"](Array.isArray(a.options)?a.options.map((function(e){return{label:e,value:e}})):Object.entries(a.options).map((function(e){var t=c(e,2),n=t[0];return{label:t[1],value:n}})))):"boolean"==typeof a.value&&(l="role=user,designModeOnly,input=checkbox",f=new b$.portal.preferences.inputType.checkbox,s=new b$.portal.preferences.datatype.boolean,p=u.value||a.value),u.name=r,u.label=a.name||r,u.value=p,u.viewHint=l,u.dataType=s,u.inputType=f,u.validType=new b$.portal.preferences.validType.none,o||i.push(u)})),t.detail.customPrefsModel=window.b$.portal.portalModel.filterPreferences(i)}})),e.addEventListener("preferencesSaved",(function(){e.refreshIncludes((function(){setTimeout((function(){h(e,!1)}),250)}))}))}(e),h(e,t)}}},e001d:function(e,t,n){"use strict";(function(e){var r=n("ec25b");t.a=Object(r.a)(e)}).call(this,"src/js/widgets/StaticHelper/back-base")},ec25b:function(e,t,n){"use strict";t.a=function(e){return e.replace(/.+[\\/]([^\\/]+)[\\/][^\\/]+$/,"$1")}}});
//# sourceMappingURL=StaticHelper.js.map