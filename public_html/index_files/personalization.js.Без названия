/*! For license information please see personalization.js.LICENSE.txt */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/portalserver/static/widgets/%5BBBHOST%5D/personalization/",r(r.s=20)}([function(e,t){e.exports=propTypes16},function(e,t){e.exports=react16},function(e,t,r){var n=r(36),o=r(12),a=/[T ]/,i=/:/,u=/^(\d{2})$/,c=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],s=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],l=/^-(\d{2})$/,p=/^-?(\d{3})$/,d=/^-?(\d{2})-?(\d{2})$/,m=/^-?W(\d{2})$/,y=/^-?W(\d{2})-?(\d{1})$/,b=/^(\d{2}([.,]\d*)?)$/,h=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,v=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,g=/([Z+-].*)$/,O=/^(Z)$/,w=/^([+-])(\d{2})$/,x=/^([+-])(\d{2}):?(\d{2})$/;function j(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var o=7*t+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+o),n}e.exports=function(e,t){if(o(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var r=(t||{}).additionalDigits;r=null==r?2:Number(r);var S=function(e){var t,r={},n=e.split(a);i.test(n[0])?(r.date=null,t=n[0]):(r.date=n[0],t=n[1]);if(t){var o=g.exec(t);o?(r.time=t.replace(o[1],""),r.timezone=o[1]):r.time=t}return r}(e),T=function(e,t){var r,n=c[t],o=f[t];if(r=s.exec(e)||o.exec(e)){var a=r[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(r=u.exec(e)||n.exec(e)){var i=r[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}(S.date,r),E=T.year,P=function(e,t){if(null===t)return null;var r,n,o,a;if(0===e.length)return(n=new Date(0)).setUTCFullYear(t),n;if(r=l.exec(e))return n=new Date(0),o=parseInt(r[1],10)-1,n.setUTCFullYear(t,o),n;if(r=p.exec(e)){n=new Date(0);var i=parseInt(r[1],10);return n.setUTCFullYear(t,0,i),n}if(r=d.exec(e)){n=new Date(0),o=parseInt(r[1],10)-1;var u=parseInt(r[2],10);return n.setUTCFullYear(t,o,u),n}if(r=m.exec(e))return a=parseInt(r[1],10)-1,j(t,a);if(r=y.exec(e)){a=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return j(t,a,c)}return null}(T.restDateString,E);if(P){var D,_=P.getTime(),k=0;if(S.time&&(k=function(e){var t,r,n;if(t=b.exec(e))return(r=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=h.exec(e))return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),r%24*36e5+6e4*n;if(t=v.exec(e)){r=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return r%24*36e5+6e4*n+1e3*o}return null}(S.time)),S.timezone)D=6e4*function(e){var t,r;if(t=O.exec(e))return 0;if(t=w.exec(e))return r=60*parseInt(t[2],10),"+"===t[1]?-r:r;if(t=x.exec(e))return r=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-r:r;return 0}(S.timezone);else{var M=_+k,A=new Date(M);D=n(A);var N=new Date(M);N.setDate(A.getDate()+1);var C=n(N)-n(A);C>0&&(D+=C)}return new Date(_+k+D)}return new Date(e)}},function(e,t){e.exports=bemCn},function(e,t,r){"use strict";var n=r(21);e.exports=function(e,t,r){if(!n(e))return{};"function"==typeof t&&(r=t,t=[]),"string"==typeof t&&(t=[t]);for(var o="function"==typeof r,a=Object.keys(e),i={},u=0;u<a.length;u++){var c=a[u],s=e[c];t&&(-1!==t.indexOf(c)||o&&!r(s,c,e))||(i[c]=s)}return i}},function(e,t,r){(function(t){var n=r(24),o=r(25);e.exports=function(e){var r=t.env.KITT_PREFIX||o;return e.match("/^".concat(r,"-/"))?n(e):n("".concat(r,"-").concat(e))}}).call(this,r(11))},function(e,t,r){var n=r(38);e.exports=function(e,t){var r=n(e),o=n(t),a=r.getTime()-6e4*r.getTimezoneOffset(),i=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((a-i)/864e5)}},function(e,t,r){var n=r(42);e.exports=function(e){return n(e,{weekStartsOn:1})}},function(e,t,r){var n=r(39),o=r(41),a=r(13),i=r(2),u=r(44),c=r(45);var s={M:function(e){return e.getMonth()+1},MM:function(e){return p(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return p(e.getDate(),2)},DDD:function(e){return n(e)},DDDD:function(e){return p(n(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return p(o(e),2)},YY:function(e){return p(e.getFullYear(),4).substr(2)},YYYY:function(e){return p(e.getFullYear(),4)},GG:function(e){return String(a(e)).substr(2)},GGGG:function(e){return a(e)},H:function(e){return e.getHours()},HH:function(e){return p(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return p(s.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return p(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return p(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return p(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return p(e.getMilliseconds(),3)},Z:function(e){return l(e.getTimezoneOffset(),":")},ZZ:function(e){return l(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function f(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function l(e,t){t=t||"";var r=e>0?"-":"+",n=Math.abs(e),o=n%60;return r+p(Math.floor(n/60),2)+t+p(o,2)}function p(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return r}e.exports=function(e,t,r){var n=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(r||{}).locale,a=c.format.formatters,l=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(a=o.format.formatters,o.format.formattingTokensRegExp&&(l=o.format.formattingTokensRegExp));var p=i(e);return u(p)?function(e,t,r){var n,o,a=e.match(r),i=a.length;for(n=0;n<i;n++)o=t[a[n]]||s[a[n]],a[n]=o||f(a[n]);return function(e){for(var t="",r=0;r<i;r++)a[r]instanceof Function?t+=a[r](e,s):t+=a[r];return t}}(n,a,l)(p):"Invalid Date"}},function(e,t,r){var n=r(2);e.exports=function(e){var t=n(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}},function(e,t,r){var n=r(2);e.exports=function(e){var t=n(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,s=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new m(e,t)),1!==s.length||f||u(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,r){var n=r(2),o=r(7);e.exports=function(e){var t=n(e),r=t.getFullYear(),a=new Date(0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);var i=o(a),u=new Date(0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);var c=o(u);return t.getTime()>=i.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}},function(e,t){e.exports=reactDOM16},function(e,t,r){var n=r(28);"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e});var o={},a=void 0;function i(){return!!a&&!0!==a.headersSent}function u(e){o=e?n.parse(e):{}}var c={load:function(e,t){var r="undefined"==typeof document?o:n.parse(document.cookie),a=r&&r[e];if(void 0===t&&(t=!a||"{"!==a[0]&&"["!==a[0]),!t)try{a=JSON.parse(a)}catch(e){}return a},select:function(e){var t="undefined"==typeof document?o:n.parse(document.cookie);return t?e?Object.keys(t).reduce((function(r,n){if(!e.test(n))return r;var o={};return o[n]=t[n],Object.assign({},r,o)}),{}):t:{}},save:function(e,t,r){o[e]=t,"object"==typeof t&&(o[e]=JSON.stringify(t)),"undefined"!=typeof document&&(document.cookie=n.serialize(e,o[e],r)),i()&&a.cookie&&a.cookie(e,t,r)},remove:function(e,t){delete o[e],t=void 0===t?{}:"string"==typeof t?{path:t}:Object.assign({},t),"undefined"!=typeof document&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=n.serialize(e,"",t)),i()&&a.clearCookie&&a.clearCookie(e,t)},setRawCookie:u,plugToRequest:function(e,t){return e.cookie?o=e.cookie:e.cookies?o=e.cookies:e.headers&&e.headers.cookie?u(e.headers.cookie):o={},a=t,function(){a=null,o={}}}};"undefined"!=typeof window&&(window.reactCookie=c),e.exports=c},function(e,t){e.exports=function(e,t,r){var n,o,a,i,u;function c(){var s=Date.now()-i;s<t&&s>=0?n=setTimeout(c,t-s):(n=null,r||(u=e.apply(a,o),a=o=null))}null==t&&(t=100);var s=function(){a=this,o=arguments,i=Date.now();var s=r&&!n;return n||(n=setTimeout(c,t)),s&&(u=e.apply(a,o),a=o=null),u};return s.clear=function(){n&&(clearTimeout(n),n=null)},s.flush=function(){n&&(u=e.apply(a,o),a=o=null,clearTimeout(n),n=null)},s}},function(e,t,r){(function(t){e.exports=function(e,i,u){var c={container:t.document.body,offset:0,debounce:15,failsafe:150};void 0!==i&&"function"!=typeof i||(u=i,i={});var s=c.container=i.container||c.container,f=c.offset=i.offset||c.offset,l=c.debounce=i.debounce||c.debounce,p=c.failsafe=i.failsafe||c.failsafe;!0===p?p=150:!1===p&&(p=0);p>0&&p<l&&(p=l+50);for(var d=0;d<r.length;d++)if(r[d].container===s&&r[d]._debounce===l&&r[d]._failsafe===p)return r[d].isInViewport(e,f,u);return r[r.push(function(e,r,i){var u=function(){var e=[];function t(t){for(var r=e.length-1;r>=0;r--)if(e[r][0]===t)return r;return-1}function r(e){return-1!==t(e)}return{add:function(t,n,o){r(t)||e.push([t,n,o])},remove:function(r){var n=t(r);-1!==n&&e.splice(n,1)},isWatched:r,checkAll:function(t){return function(){for(var r=e.length-1;r>=0;r--)t.apply(this,e[r])}}}}(),c=e===t.document.body?t:e,s=(f=u.checkAll((function(e,t,r){m(e,t)&&(u.remove(e),r(e))})),l=r,function(){var e=this,t=arguments,r=p&&!d;function n(){d=null,p||f.apply(e,t)}clearTimeout(d),d=setTimeout(n,l),r&&f.apply(e,t)});var f,l,p,d;o(c,"scroll",s),c===t&&o(t,"resize",s);n&&function(e,t,r){var n=new MutationObserver((function(e){!0===e.some(i)&&setTimeout(r,0)})),o=Array.prototype.filter,a=Array.prototype.concat;function i(t){var r=a.call([],Array.prototype.slice.call(t.addedNodes),t.target);return o.call(r,e.isWatched).length>0}n.observe(t,{childList:!0,subtree:!0,attributes:!0})}(u,e,s);i>0&&setInterval(s,i);function m(r,n){if(!r)return!1;if(!a(t.document.documentElement)||!a(t.document.documentElement))return!1;if(!r.offsetWidth||!r.offsetHeight)return!1;var o=r.getBoundingClientRect(),i={};if(e===t.document.body)i={top:-n,left:-n,right:t.document.documentElement.clientWidth+n,bottom:t.document.documentElement.clientHeight+n};else{var u=e.getBoundingClientRect();i={top:u.top-n,left:u.left-n,right:u.right+n,bottom:u.bottom+n}}return o.right>=i.left&&o.left<=i.right&&o.bottom>=i.top&&o.top<=i.bottom}return{container:e,isInViewport:function(e,t,r){if(!r)return m(e,t);var n=function(e,t,r){return{watch:function(){u.add(e,t,r)},dispose:function(){u.remove(e)}}}(e,t,r);return n.watch(),n},_debounce:r,_failsafe:i}}(s,l,p))-1].isInViewport(e,f,u)};var r=[],n="function"==typeof t.MutationObserver;function o(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}var a=function(){return!t.document||(t.document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:t.document.documentElement.contains?function(e,t){return e!==t&&!!e.contains&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1})}}).call(this,r(29))},function(e,t,r){var n=r(2),o=r(37);e.exports=function(e,t){var r=n(e),a=Number(t),i=r.getMonth()+a,u=new Date(0);u.setFullYear(r.getFullYear(),i,1),u.setHours(0,0,0,0);var c=o(u);return r.setMonth(i,Math.min(c,r.getDate())),r}},function(e,t,r){var n=r(2);e.exports=function(e){return n(e).getFullYear()}},function(e,t,r){e.exports=r(49)},function(e,t,r){"use strict";var n=r(22);e.exports=function(e){return n(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,r){"use strict";var n=r(23);function o(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},function(e,t,r){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,r){"use strict";var n=r(3);function o(e){var t=n(e);function r(e,r,n){var o=t(e);return("string"!=typeof e||"string"==typeof e&&"string"==typeof r)&&(n=r,r=null),r&&(o=o(r)),n&&(o=o.mix(n)),o.toString()}return r.builder=function(){return t},r}o.setup=function(e){n.setup(e)},o.reset=function(){n.reset()},e.exports=o},function(e,t,r){(function(t){e.exports=t.env.KITT_PREFIX||"kitt"}).call(this,r(11))},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},o=t||{},i=e.split(a),c=o.decode||n,s=0;s<i.length;s++){var f=i[s],l=f.indexOf("=");if(!(l<0)){var p=f.substr(0,l).trim(),d=f.substr(++l,f.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==r[p]&&(r[p]=u(d,c))}}return r},t.serialize=function(e,t,r){var n=r||{},a=n.encode||o;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var u=a(t);if(u&&!i.test(u))throw new TypeError("argument val is invalid");var c=e+"="+u;if(null!=n.maxAge){var s=n.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(s)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(c+="; HttpOnly");n.secure&&(c+="; Secure");if(n.sameSite){switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,o=encodeURIComponent,a=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function u(e,t){try{return t(e)}catch(t){return e}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t){e.exports=function(e){var t=new Date(e.getTime()),r=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*r+t.getTime()%6e4}},function(e,t,r){var n=r(2);e.exports=function(e){var t=n(e),r=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(r,o+1,0),a.setHours(0,0,0,0),a.getDate()}},function(e,t,r){var n=r(2);e.exports=function(e){var t=n(e);return t.setHours(0,0,0,0),t}},function(e,t,r){var n=r(2),o=r(40),a=r(6);e.exports=function(e){var t=n(e);return a(t,o(t))+1}},function(e,t,r){var n=r(2);e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}},function(e,t,r){var n=r(2),o=r(7),a=r(43);e.exports=function(e){var t=n(e),r=o(t).getTime()-a(t).getTime();return Math.round(r/6048e5)+1}},function(e,t,r){var n=r(2);e.exports=function(e,t){var r=t&&Number(t.weekStartsOn)||0,o=n(e),a=o.getDay(),i=(a<r?7:0)+a-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}},function(e,t,r){var n=r(13),o=r(7);e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),o(r)}},function(e,t,r){var n=r(12);e.exports=function(e){if(n(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,t,r){var n=r(46),o=r(47);e.exports={distanceInWords:n(),format:o()}},function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,r,n){var o;return n=n||{},o="string"==typeof e[t]?e[t]:1===r?e[t].one:e[t].other.replace("{{count}}",r),n.addSuffix?n.comparison>0?"in "+o:o+" ago":o}}}},function(e,t,r){var n=r(48);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["AM","PM"],u=["am","pm"],c=["a.m.","p.m."],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?i[1]:i[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){s[e+"o"]=function(t,r){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(r[e](t))}})),{formatters:s,formattingTokensRegExp:n(s)}}},function(e,t){var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var o=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(e,t,r){"use strict";r.r(t);r.p;var n=r(14),o=r.n(n),a=r(1),i=r.n(a),u=r(0),c=r.n(u),s=r(4),f=r.n(s),l=r(5),p=r.n(l);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){return"-".concat(e.toLowerCase())},g=function(e,t){var r=Object.keys(t);return Object.entries(e).filter((function(e){var t=b(e,1)[0];return r.includes(t)})).reduce((function(e,t){var r=b(t,2),n=r[0],o=r[1];return m(m({},e),{},y({},n.replace(/([A-Z].)/g,v),"number"==typeof o?String(o):o))}),{})};r(26);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=D(e);if(t){var o=D(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=p()("grid"),M={fluid:c.a.bool,fixed:c.a.bool,xs:c.a.oneOfType([c.a.number,c.a.string]),sm:c.a.oneOfType([c.a.number,c.a.string]),md:c.a.oneOfType([c.a.number,c.a.string]),lg:c.a.oneOfType([c.a.number,c.a.string]),xl:c.a.oneOfType([c.a.number,c.a.string])},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,r,n,o=E(a);function a(){return j(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props.tag,t=g(this.props,M),r=k(t,this.props.className);return i.a.createElement(e,x({},f()(this.props,Object.keys(a.propTypes)),{className:r}),this.props.children)}}])&&S(t.prototype,r),n&&S(t,n),a}(i.a.Component);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_(A,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:c.a.string},M)),_(A,"defaultProps",{tag:"div"});var $=p()("row"),L=["start","center","end","around","between","unset"],W=["top","middle","bottom","unset"],J=["reverse","unset"],G=[0,5,10,15,20,30,40,50,60,80,100,"0","5","10","15","20","30","40","50","60","80","100"],X={xsTop:c.a.oneOf(G),smTop:c.a.oneOf(G),mdTop:c.a.oneOf(G),lgTop:c.a.oneOf(G),xlTop:c.a.oneOf(G),xsBottom:c.a.oneOf(G),smBottom:c.a.oneOf(G),mdBottom:c.a.oneOf(G),lgBottom:c.a.oneOf(G),xlBottom:c.a.oneOf(G),xsDirection:c.a.oneOf(J),smDirection:c.a.oneOf(J),mdDirection:c.a.oneOf(J),lgDirection:c.a.oneOf(J),xlDirection:c.a.oneOf(J),xsJustify:c.a.oneOf(L),smJustify:c.a.oneOf(L),mdJustify:c.a.oneOf(L),lgJustify:c.a.oneOf(L),xlJustify:c.a.oneOf(L),xsAlign:c.a.oneOf(W),smAlign:c.a.oneOf(W),mdAlign:c.a.oneOf(W),lgAlign:c.a.oneOf(W),xlAlign:c.a.oneOf(W)},Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(a,e);var t,r,n,o=H(a);function a(){return R(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props.tag,t=g(this.props,X),r=$(t,this.props.className);return i.a.createElement(e,I({},f()(this.props,Object.keys(a.propTypes)),{className:r}),this.props.children)}}])&&Y(t.prototype,r),n&&Y(t,n),a}(i.a.Component);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oe(e);if(t){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ne(this,r)}}function ne(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}U(Z,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:c.a.string},X)),U(Z,"defaultProps",{tag:"div"});var ie=p()("col"),ue=["first","last","unset"],ce=["top","middle","bottom","unset"],se=[0,5,10,15,20,30,40,50,60,80,100,"0","5","10","15","20","30","40","50","60","80","100"],fe={xs:c.a.oneOfType([c.a.number,c.a.string]).isRequired,sm:c.a.oneOfType([c.a.number,c.a.string]),md:c.a.oneOfType([c.a.number,c.a.string]),lg:c.a.oneOfType([c.a.number,c.a.string]),xl:c.a.oneOfType([c.a.number,c.a.string]),xsTop:c.a.oneOf(se),smTop:c.a.oneOf(se),mdTop:c.a.oneOf(se),lgTop:c.a.oneOf(se),xlTop:c.a.oneOf(se),xsBottom:c.a.oneOf(se),smBottom:c.a.oneOf(se),mdBottom:c.a.oneOf(se),lgBottom:c.a.oneOf(se),xlBottom:c.a.oneOf(se),xsOrder:c.a.oneOf(ue),smOrder:c.a.oneOf(ue),mdOrder:c.a.oneOf(ue),lgOrder:c.a.oneOf(ue),xlOrder:c.a.oneOf(ue),xsAlign:c.a.oneOf(ce),smAlign:c.a.oneOf(ce),mdAlign:c.a.oneOf(ce),lgAlign:c.a.oneOf(ce),xlAlign:c.a.oneOf(ce)},le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(a,e);var t,r,n,o=re(a);function a(){return K(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props.tag,t=g(this.props,fe),r=ie(t,this.props.className);return i.a.createElement(e,V({},f()(this.props,Object.keys(a.propTypes)),{className:r}),this.props.children)}}])&&ee(t.prototype,r),n&&ee(t,n),a}(i.a.Component);ae(le,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:c.a.string},fe)),ae(le,"defaultProps",{tag:"div"});r(27);p()("content-constraint");c.a.oneOfType([c.a.number,c.a.string]),c.a.oneOfType([c.a.number,c.a.string]),c.a.oneOfType([c.a.number,c.a.string]),c.a.oneOfType([c.a.number,c.a.string]),c.a.oneOfType([c.a.number,c.a.string]);var pe=A,de=r(3),me=r.n(de),ye=r(15),be=r.n(ye);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(){return window.location.search.slice(1).split("&").reduce((function(e,t){var r=he(t.split("="),2),n=r[0],o=r[1];return Object.assign(e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,o))}),{})}function Oe(e,t,r){var n=!1,o=!1;(e&&e.current&&e.current.closest(".bp-widget")&&(n=e.current.closest(".bp-widget").querySelector(r),o=e.current.closest(".bp-widget").querySelector(t)),o&&(o.style.position="static",o.style.opacity=1,o.style.order=1,o.style.display="block"),n)&&n.parentElement.removeChild(n)}var we;r(16),r(17);function xe(e){we=e}function je(e){return"SITE_Widget_".concat(e)}function Se(){return window&&window.bd&&window.bd.designMode}function Te(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Se()&&(we||xe(window.dataLayer),we)){var n=r;"number"==typeof n&&(n="".concat(r)),n=null!==n&&"string"!=typeof n?Pe(r):Ee(n||"");var o={event:je(e),action:t,label:n};we.push(o)}}}function Ee(e){return(e||"").replace(/[^A-Za-zА-Яа-яЁё0-9.,:!? -]/g," ").replace(/\s+/," ").substr(0,300)}function Pe(e){return Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat(e[t])})).join("__")}var De=Te("Personalization");function _e(e){De("click_recomm_card_link",e)}function ke(e){De("received_products",e)}function Me(e,t){De("shown_cards_".concat(e),t)}r(30);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=He(e);if(t){var o=He(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Be(this,r)}}function Be(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=p()("heading"),Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,r,n,o=Ye(a);function a(){return Ce(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.tag,r=e.size,n=e.className;return i.a.createElement(t,Ne({},f()(this.props,Object.keys(a.propTypes)),{className:ze({tag:this.props.tag,size:r},n)}),this.props.children)}}])&&Ie(t.prototype,r),n&&Ie(t,n),a}(i.a.PureComponent);Fe(Ue,"propTypes",{tag:c.a.oneOf(["h1","h2","h3","h4","h5","h6","div","span"]),size:c.a.oneOf(["s","m","l"]),children:c.a.node.isRequired,className:c.a.string}),Fe(Ue,"defaultProps",{tag:"h3",size:"m",className:null});var $e=Ue;r(31);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var We=me()("ps-carousel");function Je(e){var t=1===e.cards.length,r=2===e.cards.length,n=3===e.cards.length,o=e.card,u=Object(a.useRef)(null),c=function(){var t;u.current.scrollLeft=0,t=e.type,De("click_arrow_left",t)},s=function(){var t;u.current.scrollLeft=u.current.clientWidth/2+30,t=e.type,De("click_arrow_right",t)};return i.a.createElement(Z,null,i.a.createElement(le,{xs:12,className:We(),xsBottom:e.xsBottom},i.a.createElement($e,{tag:"h2",size:"lg",className:We("header",{hidden_mob:e.hideHeaderMobile})},e.header),i.a.createElement("div",{className:We("arrows")()},i.a.createElement("button",{type:"button",className:We("arrow",{left:!0})(),"aria-label":"Листать влево",onClick:function(){return c()}}),i.a.createElement("button",{type:"button",className:We("arrow",{right:!0})(),"aria-label":"Листать вправо",onClick:function(){return s()}})),i.a.createElement("div",{className:We("cards")(),ref:u},e.cards.map((function(a){return i.a.createElement(o,Le({},a,{oneCard:t,twoCards:r,threeCards:n,products:e.products}))})))))}r(32);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t,r){return Ze({},e,[{type:r,url2x:"".concat(t,"-").concat(e,"-2x.").concat(r),url:"".concat(t,"-").concat(e,".").concat(r)}])}var Qe={mobile:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1023px)",desktop:"(min-width: 1024px) and (max-width: 1365px)","wide-desktop":"(min-width: 1366px)"};function Ve(e){var t=function(e){var t=e.split("."),r=t.pop(),n=t.join(".");return Xe(Xe(Xe(Xe({},qe("mobile",n,r)),qe("tablet",n,r)),qe("desktop",n,r)),qe("wide-desktop",n,r))}(e),r=[];return Object.keys(Qe).forEach((function(e){t[e].forEach((function(t){var n={type:"image/".concat(t.type),media:Qe[e],"data-srcset":"".concat(t.url," 1x, ").concat(t.url2x," 2x")};r.push(i.a.createElement("source",n))}))})),r}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rt(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ot=[13,16,17,18,19];function at(e,t,r){var n=r.products.filter((function(e){return!!e.default})),o=n;if(e){var a=e.map((function(e){return Number(e)})),i=r.products.filter((function(e){return a.includes(e.id)}));if(o=i,i.length<3){var u,c=3-i.length,s=i.map((function(e){return e.id}));(u=o).push.apply(u,rt(n.filter((function(e){return!s.includes(e.id)})).slice(0,c)))}}var f=function(e,t){var r=[];return e.forEach((function(e){for(var n,o=(null!==(n=null==e?void 0:e.articles)&&void 0!==n?n:[]).map((function(e){return et({order:0},t.articles.find((function(t){return t.id===e})))})).sort(it),a=!1,i=function(e){r.find((function(t){return t.id===o[e].id}))||a||(r.push(o[e]),a=!0)},u=0;u<o.length;u++)i(u)})),r.filter((function(e){return!!e}))}(o,r),l=function(e,t,r){var n=function(){try{if("undefined"!=typeof localStorage){var e=localStorage.getItem("lastSeen");return JSON.parse(e)?JSON.parse(e):[]}return[]}catch(e){return[]}}().map((function(e){var t;return null===(t=r.products.find((function(t){var r;return null==t||null===(r=t.moreButtonUrl)||void 0===r?void 0:r.includes(e)})))||void 0===t?void 0:t.id})).filter((function(t){return!e.find((function(e){return e.id===t}))}));return r.products.filter((function(e){return n.includes(e.id)&&!ot.includes(e.id)})).slice(0,3)}(o,0,r);return{products:o,articles:f,lastSeen:l}}function it(e,t){return t.order>e.order?1:t.order<e.order?-1:0}function ut(e){var t=e.split("."),r=t.pop(),n=t.join(".");return et(et({},qe("small",n,r)),qe("normal",n,r))}function ct(e){var t=e.split("."),r=t.pop(),n=t.join(".");return"".concat(n,"-desktop.").concat(r)}function st(e){var t=e.split("."),r=t.pop(),n=t.join(".");return"".concat(n,"-small.").concat(r)}var ft=["oneCard","threeCards","products"];function lt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var pt=me()("ps-artcard");function dt(e){var t=e.oneCard,r=e.threeCards,n=e.products,o=lt(e,ft),a=t?"div":"a",u=ut(o.img),c=u.small,s=u.normal;return i.a.createElement(a,{href:o.buttonUrl,target:"_blank",rel:"noopener norefferer",className:pt({one:t})(),onMouseDown:function(){return e=o.id,t=function(e,t,r){return t.filter((function(t){return t[r].includes(e)})).map((function(e){return e.id})).toString()}(o.id,n,"articles"),void De("click_article_link_".concat(e),t);var e,t}},i.a.createElement("picture",null,i.a.createElement("source",{"data-srcset":"".concat(c[0].url," 1x, ").concat(c[0].url2x," 2x"),media:"(min-width: 0px) and (max-width: 1023px)"}),i.a.createElement("source",{"data-srcset":"".concat(s[0].url," 1x, ").concat(s[0].url2x," 2x"),media:"(min-width: 1024px) and (max-width: 1365px)"}),i.a.createElement("source",{"data-srcset":r?"".concat(c[0].url," 1x, ").concat(c[0].url2x," 2x"):"".concat(s[0].url," 1x, ").concat(s[0].url2x," 2x"),media:"(min-width: 1366px)"}),i.a.createElement("img",{className:pt("img").mix("lazyload")(),"data-src":st(o.img),alt:o.imgAlt,role:"presentation"})),i.a.createElement("div",{className:pt("info",{one:t})()},i.a.createElement("h4",{className:pt("header",{one:t})(),dangerouslySetInnerHTML:{__html:o.header}}),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:pt("desc")(),dangerouslySetInnerHTML:{__html:o.description}}),i.a.createElement("br",null),o.buttonUrl&&o.buttonText&&i.a.createElement("a",{href:o.buttonUrl},o.buttonText))))}r(33);var mt=["twoCards","threeCards","products"];function yt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var bt=me()("ps-lscard");function ht(e){var t,r,n,o=e.twoCards,a=e.threeCards,u=(e.products,yt(e,mt)),c=ut(u.imgLastSeen),s=c.small,f=c.normal;return i.a.createElement("a",{href:u.moreButtonUrl,target:"_blank",rel:"noopener norefferer noreferrer",className:bt({two:o,three:a})(),onMouseDown:function(){return e=u.id,void De("click_last_seen_link",e);var e}},i.a.createElement("picture",null,i.a.createElement("source",{"data-srcset":"".concat(s[0].url," 1x, ").concat(s[0].url2x," 2x"),media:"(max-width: 767px)"}),i.a.createElement("source",{"data-srcset":"".concat(f[0].url," 1x, ").concat(f[0].url2x," 2x"),media:"(min-width: 768px) and (max-width: 1023px)"}),i.a.createElement("source",{"data-srcset":"".concat(f[0].url," 1x, ").concat(f[0].url2x," 2x"),media:"(min-width: 1024px) and (max-width: 1365px)"}),i.a.createElement("source",{"data-srcset":a?"".concat(s[0].url," 1x, ").concat(s[0].url2x," 2x"):"".concat(f[0].url," 1x, ").concat(f[0].url2x," 2x"),media:"(min-width: 1366px)"}),i.a.createElement("img",{className:bt("img",{three:a}).mix("lazyload")(),"data-src":st(u.imgLastSeen),alt:u.imgAlt,role:"presentation"})),i.a.createElement("div",{className:bt("info")()},i.a.createElement("div",{className:bt("category",(t={},r=u.categoryType,n=!0,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t))()},u.category),i.a.createElement("h4",{className:bt("header")(),dangerouslySetInnerHTML:{__html:u.header}}),u.buttonUrl&&u.buttonText&&i.a.createElement("a",{href:u.buttonUrl,onMouseDown:function(e){var t;e.stopPropagation(),t=u.id,De("click_last_seen_button",t)}},u.buttonText)))}function vt(e){var t=e.url,r=e.alt,n=e.className,o=Ve(t);return i.a.createElement("picture",null,o,i.a.createElement("img",{className:n,"data-src":ct(t),alt:r,role:"presentation"}))}r(34);var gt=["twoCards","threeCards"];function Ot(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var wt=me()("ps-recommendcard");function xt(e){var t,r,n,o=e.twoCards,a=e.threeCards,u=Ot(e,gt);return i.a.createElement("a",{href:u.moreButtonUrl,className:wt({two:o,three:a})(),onMouseDown:function(){return _e(u.id)}},i.a.createElement(vt,{url:u.img,alt:u.imgAlt,className:wt("img").mix("lazyload")()}),i.a.createElement("div",{className:wt("info")()},i.a.createElement("div",{className:wt("category",(t={},r=u.categoryType,n=!0,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t))()},u.category),i.a.createElement($e,{size:"md",className:wt("header")},u.header),i.a.createElement("div",{className:wt("description")(),dangerouslySetInnerHTML:{__html:u.description}}),i.a.createElement("div",{className:wt("buttons")()},u.buttonUrl&&u.buttonText&&i.a.createElement("a",{href:u.buttonUrl,onMouseDown:function(e){var t;e.stopPropagation(),t=u.id,De("click_recomm_card_button",t)}},u.buttonText),u.moreButtonUrl&&u.moreButtonText&&i.a.createElement("a",{href:u.moreButtonUrl,onMouseDown:function(e){e.stopPropagation(),_e(u.id)}},u.moreButtonText))))}r(35);function jt(e,t){try{var r,n=JSON.stringify(t);if(null!==(r=navigator)&&void 0!==r&&r.sendBeacon){var o=new Blob([n],{type:"application/json"});if(navigator.sendBeacon(e,o))return}fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n})}catch(e){}}function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pt(e,t){jt("/proxy/services/sberlogger/timeout",{serviceName:e,value:t})}r(18),r(6),r(8),r(19),r(9),r(10);function Dt(e){return new Promise((function(t,r){fetch("https://promo.sber.ru/proxy/services/promo-offers/offers/order?userId=".concat(e,"&mode=recSys&meetPoint=2"),{method:"GET"}).then((function(e){e.ok?t(e.json()):(504===Number(e.status)&&Pt("personalization"),r())})).catch((function(e){var t;t="init_error",jt("/proxy/services/sberlogger/error",{serviceName:"personalization",details:Tt({},{details:e}),code:t}),r(e)}))}))}function _t(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function kt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_t(a,n,o,i,u,"next",e)}function u(e){_t(a,n,o,i,u,"throw",e)}i(void 0)}))}}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nt=me()("ps-widget");function Ct(){var e=Mt(Object(a.useState)(!1),2),t=e[0],r=e[1],n=Mt(Object(a.useState)(!1),2),o=n[0],u=n[1],c=Mt(Object(a.useState)(!1),2),s=(c[0],c[1]),f=Mt(Object(a.useState)([]),2),l=f[0],p=f[1],d=Mt(Object(a.useState)([]),2),m=d[0],y=d[1],b=Mt(Object(a.useState)([]),2),h=b[0],v=b[1],g=(ge().lastSeen,Object(a.useRef)(null)),O=function(e,t,n){p(e),y(t),v(n),n.length>1&&n.forEach((function(e){!function(e){De("show_last_seen",e)}(e.id)})),r(!0),Oe(g,".sb-include-jsx",".sb-include-soy")};return Object(a.useEffect)(kt(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=be.a.load("_ga"),e.prev=1,e.next=4,fetch("/common/img/uploaded/_new_site/person/personalization/main_page_pers_mass/content.json",{method:"GET"}).then((function(e){if(e.ok)return e;504===Number(e.status)&&Pt("deposit_selection")})).catch((function(e){Pt("deposit_selection")}));case 4:return n=e.sent,e.next=7,n.json();case 7:o=e.sent,s(o),Dt(null!=t?t:null).then((function(e){var t=e.promoOffersOrder;ke(t.length);var r=at(t.filter((function(e){return!ot.includes(e)})).slice(0,3),0,o),n=r.products,a=r.articles,i=r.lastSeen;n.forEach((function(e){Me("recsys",e.id)})),O(n,a,i)}),(function(){var e=at([],0,o),t=e.products,r=e.articles,n=e.lastSeen;Me("ours",t.map((function(e){return e.id})).toString()),O(t,r,n)})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),u(!0),r(!0),Oe(g,".sb-include-jsx",".sb-include-soy");case 17:case"end":return e.stop()}}),e,null,[[1,12]])}))),[]),o?i.a.createElement("div",{ref:g}):i.a.createElement("div",{className:Nt(),ref:g,style:{minHeight:"10px"}},t&&i.a.createElement(i.a.Fragment,null,h.length>1&&i.a.createElement(pe,{fixed:!0},i.a.createElement(Je,{xsBottom:0,cards:h,header:"Вы недавно смотрели",card:ht,products:l,type:"lastseen"})),i.a.createElement("div",{className:Nt("grey")()},i.a.createElement(pe,{fixed:!0},i.a.createElement(Je,{cards:l,header:"Рекомендовано для вас",card:xt,hideHeaderMobile:!0,type:"recommend"}),i.a.createElement(Je,{xsBottom:0,cards:m,header:"Полезно знать",card:dt,products:l,type:"articles"})))))}var It=document.querySelector("#personalization .sb-include-jsx");o.a.render(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.createElement(Ct,e)}(),It)}]);
//# sourceMappingURL=personalization.js.map